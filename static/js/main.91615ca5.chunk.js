(this.webpackJsonplevelup=this.webpackJsonplevelup||[]).push([[0],{11:function(e,t,a){},15:function(e,t,a){e.exports=a.p+"static/media/trash1600.4a1c4989.png"},18:function(e,t,a){e.exports=a(36)},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(5),r=a.n(s),i=a(12),l=a(2),u=a(3),o=a(14),m=(a(28),"MISSIONS"),b="TASKS",d="INBOX",E="MISSION",f="TASK",v="REFERENCES",h="EVENTS",p="SOMEDAY",w="TRASH",N="ASAP",g="LIST",I="DETAILS",S="NEW",D="ADD",O="UPDATE",T="PROCESSED",k="DONE",j="DAILY",x=function(e){return{type:"CHANGE_NAV",payload:e}},y=function(e){return{type:"SELECT_TITLE",payload:e}},C=function(e){return{type:"SELECT_ITEM",payload:e}},A=function(e){return{type:"SELECT_VIEW",payload:e}},R=function(e){return{type:"UPDATE_EXP",payload:e,expTimestamp:(new Date).getTime()}},M=function(e){return{type:"RESTORE_PREVIOUS_STATE",payload:e}},L=function(e){return{type:"UPDATE_TASK_STATUS",payload:e}},F=function(e){return{type:"SET_ACTIVE_TASK",payload:e}};function V(e){return function(t){return t(function(e){return{type:"REQUEST_ITEMS",record:e}}(e)),fetch(U).then((function(e){return e.json()})).then((function(a){console.log(a),t(function(e,t){return{type:"RECEIVE_ITEMS",record:e,items:t,receivedAt:Date.now()}}(e,a))})).catch((function(a){console.log("Error: ",a),setTimeout(t(V(e)),5e3)}))}}function P(e){return{type:"CREATE_ALERT",payload:{timeStamp:Date.now(),message:e}}}function q(e,t,a){return function(a){return a(function(e){return{type:"PACK_ITEMS",payload:e}}(e)),console.log("packed items: ",e),fetch("".concat(U).concat("amen"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(n){a(function(e,t){return{type:"DELIVER_ITEMS",agent:e,payload:t,deliveredAt:Date.now()}}(t,n)),a(P(e.successMessage)),a(R(n.exp))})).catch((function(a){console.log("Error: ",a),setTimeout(q(e,t),5e3)}))}}var U="http://localhost:5000/";function B(e){var t=e.touchFunction;return c.a.createElement("div",{className:"w-20 center bg-white b--black-10 ba flex items-center justify-center","data-view":"OVERVIEW",title:"HOME",onClick:t},c.a.createElement("h3",{className:"tc"},"H"))}function _(e){var t=e.touchFunction;return c.a.createElement("div",{className:"w-20 center bg-white ba b--black-10 flex items-center justify-center","data-view":g,title:m,onClick:t},c.a.createElement("h3",{className:"tc"},"M"))}function K(e){var t=e.touchFunction;return c.a.createElement("div",{className:"w-20 center bg-white b--black-10 ba flex items-center justify-center","data-view":g,title:"TASKS",onClick:t},c.a.createElement("h3",{className:"tc"},"T"))}function W(e){var t=e.touchFunction;return c.a.createElement("div",{className:"w-20 center bg-white b--black-10 ba flex items-center justify-center","data-view":g,title:"INBOX",onClick:t},c.a.createElement("h3",{className:"tc"},"I"))}function Y(e){var t=e.touchFunction;return c.a.createElement("div",{className:"w-20 center bg-white b--black-10 ba flex items-center justify-center","data-view":"OVERVIEW",title:"STATS",onClick:t},c.a.createElement("h3",{className:"tc"},"S"))}a(17);var X=a(1);function H(e,t,a){var n,c,s,r=e.target;!function e(t){t.title?n=t.title:(t=t.parentNode,e(t))}(r),function e(t){t.id?c=t.id:(t=t.parentNode,e(t))}(r),function e(t){t.getAttribute("data-view")?s=t.getAttribute("data-view"):(t=t.parentNode,e(t))}(r),parseInt(c)>=0?console.log(""):c=0;var i={title:n,view:s,ID:c};console.log(i),t(i)}function G(e){if(e===N)return N;e=new Date(e).getTime();var t=Math.ceil((e-(new Date).getTime())/864e5);switch(!0){case t<=-1:return"Due ".concat(Math.abs(t)," days ago");case t>1:return"".concat(t," Days remaining");case 1===t:return"".concat(t," Day remaining");case 0===Math.abs(t):return"DUE TODAY ";default:return"".concat(t," Days remaining")}}function J(e,t,a,n){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:10,s="";switch(e){case D:s="New ".concat(a," added");break;case"REMOVE":s="A ".concat(a," was deleted");break;case O:s="A ".concat(a," was updated")}var r={action:e,list:a,item:t,pushDate:(new Date).getTime(),exp:c,successMessage:s};n(r)}function Q(e,t,a,n,c,s){var r;switch(t){case m:r="Missions";break;case d:r="Inbox";break;case v:r="References";break;case h:r="Events";break;case b:r="Tasks";break;case p:r="Someday";break;case T:r="Processed";break;case w:r="Trash"}var i=e[r],l=i.indexOf(a);switch(console.log("local list = ",i),console.log("ammendment action = ",n),console.log("index of item = ",l),n){case"REMOVE":i.splice(l,1);break;case D:i.unshift(a),J(D,a,r,c);break;case O:i[l]=a,J(O,a,r,c)}console.log("local list post ammendment = ",i)}var $=Object(l.b)((function(e){return{view:e.values.view,state:e.values}}),(function(e){return{changeNav:function(t){return e(x(t))}}}))((function(e){var t=e.changeNav;function a(e){H(e,t)}return e.state,c.a.createElement("div",{className:"navbar center flex"},c.a.createElement(B,{touchFunction:a}),c.a.createElement(W,{touchFunction:a}),c.a.createElement(K,{touchFunction:a}),c.a.createElement(_,{touchFunction:a}),c.a.createElement(Y,{touchFunction:a}))}));a(29);var z=Object(l.b)((function(e){return{title:e.values.title,itemID:e.values.itemID,db:e.items.record.items,state:e.values}}),(function(e){return{}}))((function(e){var t,a=e.touchFunction,n=e.item,s=e.title;switch(!0){case n.type===E&&!n.isTrashed:return console.log("trash log  ",n),t=s===p?p:m,c.a.createElement("div",{className:"ba pa2 listItem w-100 flex justify-between h-20 items-center b--grey min-h-50",title:n.isTrashed?w:t,"data-view":I,id:n.id,onClick:a},c.a.createElement("div",{className:"w-80 "},c.a.createElement("p",{className:"fw7 b white pb2"},n.name),c.a.createElement("p",{className:"fw3 white"},G(n.dueDate),", Tasks: ",n.taskList.length)),c.a.createElement("div",null,c.a.createElement("p",{className:"gold fw7 b"},"EXP")));case n.type===f&&!n.isTrashed:return t=n.status===k?"COMPLETED":b,s===m&&(t="MISSION_TASKS"),s===p?(t=p,c.a.createElement("div",{className:"ba pa2 listItem w-100 flex justify-between items-center b--grey min-h-50","data-view":I,title:t,id:n.id,onClick:a},c.a.createElement("div",{className:"w-80"},c.a.createElement("p",{className:"fw7 b white pb2"},n.name),c.a.createElement("p",{className:"fw3 white"},"NO DATE SET")),c.a.createElement("div",null,c.a.createElement("p",{className:"gold fw7 b"},n.status)))):c.a.createElement("div",{className:"ba pa2 listItem w-100 flex justify-between items-center b--grey min-h-50","data-view":I,title:t,id:n.id,onClick:a},c.a.createElement("div",{className:"w-80"},c.a.createElement("p",{className:"fw7 b white pb2"},n.name),c.a.createElement("p",{className:"fw3 white"},G(n.dueDate))),c.a.createElement("div",null,c.a.createElement("p",{className:"gold fw7 b"},n.status)));case"EVENT"===n.type&&!n.isTrashed:return t=h,console.log(t),c.a.createElement("div",{className:"ba pa2 listItem w-100 flex justify-between items-center b--grey min-h-50","data-view":I,title:t,id:n.id,onClick:a},c.a.createElement("div",{className:"w-80"},c.a.createElement("p",{className:"fw7 b white pb2"},n.name),c.a.createElement("p",{className:"fw3 white"},new Date(n.date).toDateString())),c.a.createElement("div",null,c.a.createElement("p",{className:"gold fw7 b"},"REM")));case"REFERENCE"===n.type&&!n.isTrashed:return t=v,c.a.createElement("div",{className:"ba pa2 listItem w-100 flex justify-between items-center b--grey min-h-50","data-view":I,title:t,id:n.id,onClick:a},c.a.createElement("div",{className:"w-80"},c.a.createElement("p",{className:"fw7 b white pb2"},n.name)),c.a.createElement("div",null,c.a.createElement("p",{className:"gold fw7 b"},"REF")));case n.status===T&&!n.isTrashed:return t=T,c.a.createElement("div",{className:"ba pa2 listItem w-100 flex justify-between items-center b--grey min-h-50","data-view":I,title:t,id:n.id,onClick:a},c.a.createElement("div",{className:"w-80"},c.a.createElement("p",{className:"fw7 b white pb2"},n.name),c.a.createElement("p",{className:"fw3 white"},new Date(n.processedDate).toDateString())),c.a.createElement("div",null,c.a.createElement("p",{className:"gold fw7 b"},"PROCESSED")));case"INBOX_ITEM"===n.type&&!n.isTrashed:return c.a.createElement("div",{className:"ba pa2 listItem w-100 flex justify-between h-20 items-center b--grey min-h-50",title:n.isTrashed?w:d,"data-view":I,id:n.id,onClick:a},c.a.createElement("div",{className:"w-80"},c.a.createElement("p",{className:"fw7 b white pb2"},n.name),c.a.createElement("p",{className:"fw3 white"},"Entered: ",new Date(n.entryDate).toLocaleString())),c.a.createElement("div",{className:"pa2"},c.a.createElement("p",{className:"fw7 b bg-white pa2"},"PROCESS")));case n.isTrashed:return c.a.createElement("div",{className:"ba pa2 listItem w-100 flex justify-between h-20 items-center b--grey min-h-50",title:w,"data-view":I,id:n.id,onClick:a},c.a.createElement("div",{className:"w-80"},c.a.createElement("p",{className:"fw7 b white pb2"},n.name),c.a.createElement("p",{className:"fw3 white"},"DELETED: ",new Date(n.trashedDate).toLocaleString())),c.a.createElement("div",{className:"pa2"},c.a.createElement("p",{className:"fw7 b bg-white pa2"},n.type)));default:return c.a.createElement("div",{className:"bb",title:"new item",onClick:a},c.a.createElement("h3",null,"Enter New Item"))}}));function Z(e){return c.a.createElement("div",{className:"h-100",style:{overflowY:"scroll",overflowX:"hidden"}},e.children)}var ee=Object(l.b)((function(e){return{title:e.values.title,itemID:e.values.itemID,db:e.items.record.items,state:e.values,view:e.values.view}}),(function(e){return{changeItemID:function(t){return e(C(t))},changeNav:function(t){return e(x(t))}}}))((function(e){var t=e.content,a=(e.changeItemID,e.title),s=e.view,r=(e.state,e.changeNav);function i(e){H(e,r)}var l="",u=[];switch(a){case d:u=t.filter((function(e){return"INBOX_ITEM"===e.type&&!1===e.isTrashed&&e.status!==T}));break;case w:u=t.filter((function(e){return!0===e.isTrashed}));break;case"TODAY":l=f,u=t.filter((function(e){return e.type===l&&e.dueDate!==N&&e.dueDate===(new Date).toISOString().substr(0,10)&&e.status!==k}));break;case j:l=f,u=t.filter((function(e){return e.type===l&&e.frequency===j&&!1===e.isTrashed}));break;default:u=t.filter((function(e){return!1===e.isTrashed}))}var o=u.map((function(e,a){return c.a.createElement(z,{item:u[a],touchFunction:i,key:t[a].id})})),b=Object(n.useState)(u),E=Object(X.a)(b,2),v=E[0],h=E[1],p=Object(n.useState)(!1),g=Object(X.a)(p,2),S=g[0],D=g[1];function O(e,t,a){console.log("changing order"),"UP"===a&&0!==e[t].order?(console.log(e[t]),e[t-1].order++,e[t].order--):"DOWN"===a&&e[t].order!==e.length-1&&(console.log(e[t]),e[t+1].order--,e[t].order++),u=u.sort((function(e,t){return e.order-t.order})),h(u)}switch(a){case m:return s===I?!0===S?c.a.createElement("div",null,c.a.createElement("button",{className:"pb2",onClick:function(){D(!1)}},"SAVE ORDER"),c.a.createElement(Z,null,u.map((function(e,t){return c.a.createElement("div",{className:"pb2"},c.a.createElement("p",{className:"white fw7 b tc",onClick:function(){return O(v,t,"UP")}},"^"),c.a.createElement(z,{item:v[t],touchFunction:i,key:v[t].id}),c.a.createElement("p",{className:"white fw5 tc",onClick:function(){return O(v,t,"DOWN")}},"v"))})))):c.a.createElement("div",null,c.a.createElement("button",{className:"pb2",onClick:function(){D(!0)}},"CHANGE ORDER"),c.a.createElement(Z,null,o)):c.a.createElement("div",null,c.a.createElement(Z,null,o));default:return c.a.createElement(Z,null,o)}}));a(11);var te=Object(l.b)((function(e){return{title:e.values.title}}),(function(e){return{changeView:function(t){return e(A(t))}}}))((function(e){var t=e.changeView;return c.a.createElement("div",{className:"whiteB w2 h2 flex items-center justify-center","data-view":S,onClick:function(){return t(S)}},c.a.createElement("h1",{className:" white b f8 fw9 ma0"},"+"))})),ae=a(4),ne=function e(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(ae.a)(this,e);var a=new Date;this.type="INBOX_ITEM",this.id=a.getTime(),this.entryDate=a.getTime(),this.name=t,this.description="",this.status="UNPROCESSED",this.exp=5,this.isTrashed=!1,this.trashedDate="",this.processedDate=""},ce=function e(t,a,n){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:p,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;Object(ae.a)(this,e);var i=new Date;this.type=f,this.id=i.getTime()+Math.ceil(1e3*Math.random()),this.entryDate=i.getTime(),this.status="PENDING",this.priority="NONE",this.frequency="NONE",this.outcomeRecordID=0,this.name=t,this.outcome=a,this.requiredContext=n,this.note="",this.dueDate=s,this.timeRequired=0,this.requirements="",this.associatedMissionID=c,this.exp=20,this.details="",this.isTrashed=!1,this.trashedDate="N/A",this.timeSpent=0,this.activeSince=0,this.doneDate="N/A",this.order=r},se=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:N,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=arguments.length>4?arguments[4]:void 0,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";Object(ae.a)(this,e);var i=new Date;this.type=E,this.id=i.getTime(),this.entryDate=i.getTime(),this.status="UNPLANNED",this.name=t,this.purpose=a,this.vision="",this.principles="",this.toDo="",this.skillsRequired="",this.infoRequired="",this.abilityRequired="",this.dueDate=n,this.taskList=[],this.backStory="",this.outputRef=0,this.outputRecordUrl="",this.timeRequired=7776e6,this.timeSpent=0,this.requirements=c,this.priority=s,this.frequency=r,this.note="",this.isTrashed=!1,this.trashedDate="",this.doneDate="",this.exp=100},re=function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";Object(ae.a)(this,e);var n=new Date;this.type="REFERENCE",this.id=n.getTime(),this.entryDate=n.getTime(),this.name=t,this.details=a,this.exp=5,this.isTrashed=!1},ie=function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(new Date).toISOString().substr(0,10),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",c=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]?arguments[4]:"");Object(ae.a)(this,e);var s=new Date;this.type="EVENT",this.id=s.getTime(),this.entryDate=s.getTime(),this.name=t,this.date=a,this.time=n,this.location="",this.frequency=c,this.exp=5,this.note="",this.isTrashed=!1,this.trashedDate=""},le=Object(l.b)((function(e){return{title:e.values.title,view:e.values.view,itemID:e.values.itemID,previousView:e.values.previousView,exp:e.UpdateExpReducer.exp,status:e.UpdateTaskStatusReducer.taskStatus,activeTask:e.SetActiveTaskReducer.activeTask,activeSince:e.SetActiveTaskReducer.activeSince,db:e.items.record.items}}),(function(e){return{updateExp:function(t){return e(R(t))},shipItems:function(t,a,n){return e(q(t,a))},changeNav:function(t){return e(x(t))}}}))((function(e){var t,a=e.item,s=e.dueDate,r=(e.db,e.title),i=e.updateFunc;e.view;r;t=s===N?(new Date).toISOString().substr(0,10):s;var l=Object(n.useState)(t),u=Object(X.a)(l,2),o=u[0],m=u[1],b=Object(n.useState)(!1),d=Object(X.a)(b,2),E=d[0],f=d[1],v=Object(n.useState)(!1),h=Object(X.a)(v,2),w=h[0],g=h[1],I=Object(n.useState)(!1),S=Object(X.a)(I,2),D=S[0],O=S[1];switch(Object(n.useEffect)((function(){f(!1),m(t),g(s===N)}),[s,N]),E){case!0:return console.log("Current task ",a),console.log("Current task.dueDate ",s),console.log("Current date: ",o),console.log("Current dateValue: ",t),c.a.createElement("div",null,c.a.createElement("input",{type:"date",className:"fw3 white bn bg-transparent",autoFocus:!0,defaultValue:o,onChange:function(e){console.log(e.target.value),m(e.target.value)},onBlur:function(){}}),c.a.createElement("div",null,c.a.createElement("button",{className:"button",onClick:function(){i(N),g(!0),f(!1)}},"A.S.A.P"),c.a.createElement("button",{className:"button",onClick:function(){i(p),f(!1),O(!0)}},"SOMEDAY"),c.a.createElement("button",{className:"button",onClick:function(){i(o),f(!1),g(!1)}},"Save")));default:return w?c.a.createElement("div",null,c.a.createElement("h5",{className:"fw4 white",onClick:function(){return f(!0)}},"ASAP")):D?c.a.createElement("div",null,c.a.createElement("h5",{className:"fw4 white",onClick:function(){return f(!0)}},"SOMEDAY")):c.a.createElement("h5",{className:"fw4 white",onClick:function(){return f(!0)}},o)}}));var ue=Object(l.b)((function(e){return{view:e.values.view,itemID:e.values.itemID,db:e.items.record.items,title:e.values.title}}),(function(e){return{onTouch:function(t){return e(A(t))},changeItemID:function(t){return e(C(t))},shipItems:function(t,a,n){return e(q(t,a))},changeNav:function(t){return e(x(t))}}}))((function(e){e.changeItemID;var t=e.updateExp,a=e.shipItems,s=e.itemID,r=e.db,i=e.changeNav,l=e.title,u=r.Tasks,o=((new Date).toISOString().substr(0,10),Object(n.useState)("")),b=Object(X.a)(o,2),d=b[0],E=b[1],v=Object(n.useState)(""),h=Object(X.a)(v,2),w=h[0],N=h[1],g=Object(n.useState)(""),I=Object(X.a)(g,2),S=I[0],O=I[1],T=Object(n.useState)(""),k=Object(X.a)(T,2),x=k[0],y=k[1],C=Object(n.useState)(p),A=Object(X.a)(C,2),R=A[0],M=A[1],L=Object(n.useState)(""),F=Object(X.a)(L,2),V=F[0],P=F[1],q=Object(n.useState)(""),U=Object(X.a)(q,2),B=(U[0],U[1],Object(n.useState)("NONE")),_=Object(X.a)(B,2),K=_[0],W=_[1],Y=Object(n.useState)(""),H=Object(X.a)(Y,2),G=H[0],Q=H[1],$=Object(n.useState)(s),z=Object(X.a)($,2),Z=z[0];return z[1],c.a.createElement("div",{className:"h-100 w-100 center br1 pa3 ba b--black-10 "},c.a.createElement("h1",{className:"tc b gold f3"},"NEW TASK"),c.a.createElement("form",{onSubmit:function(e){var n=new ce(d,w,S,Z,R);console.log(n),n.frequency=K,n.details=x,t(5),u.unshift(n),J(D,n,"Tasks",a),l===m&&function(e,t){for(var n,c=parseInt(t),s=r.Missions,i=0;i<s.length;i++)console.log(s[i].id),s[i].id===c&&(console.log(s[i].id),(n=s[i]).taskList.unshift(e.id),J("UPDATE",n,"Missions",a))}(n,Z),function(e){var t;t=l===m?{title:m,view:"DETAILS",ID:s}:{title:l,view:"DETAILS",ID:e};i(t)}(n.id),e.preventDefault()},className:"flex flex-column",title:f},c.a.createElement("input",{className:"pa2 mb1",type:"text",autoFocus:!0,placeholder:"Name",value:d,onChange:function(e){return E(e.target.value)}}),c.a.createElement("input",{className:"pa2 mb1",type:"text",placeholder:"Outcome",value:w,onChange:function(e){return N(e.target.value)}}),c.a.createElement("textarea",{className:"pa2 mb1",placeholder:"Details",value:x,onChange:function(e){return y(e.target.value)}}),c.a.createElement("textarea",{className:"pa2 mb1",placeholder:"Required Context",value:S,onChange:function(e){return O(e.target.value)}}),c.a.createElement(le,{item:{},dueDate:R,updateFunc:M}),c.a.createElement("select",{className:"pa2 mb1",id:"priority",value:K,onChange:function(e){return W(e.target.value)}},c.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"Frequency"),c.a.createElement("option",{value:"NONE"},"ONE-TIME"),c.a.createElement("option",{value:j},"DAILY")),c.a.createElement("textarea",{className:"pa2 mb1",placeholder:"Requirements",value:G,onChange:function(e){return Q(e.target.value)}}),c.a.createElement("input",{className:"pa2 mb1",type:"text",placeholder:"Assigned Agent",value:V,onChange:function(e){return P(e.target.value)}}),c.a.createElement("input",{className:"pa2 mb1",type:"submit",value:"submit"})))}));var oe=Object(l.b)((function(e){return{view:e.values.view,itemID:e.values.itemID,db:e.items.record.items}}),(function(e){return{onTouch:function(t){return e(A(t))},shipItems:function(t,a,n){return e(q(t,a))},changeNav:function(t){return e(x(t))}}}))((function(e){var t=e.updateExp,a=e.shipItems,s=e.changeNav,r=e.db.Missions,i=((new Date).toISOString().substr(0,10),Object(n.useState)("")),l=Object(X.a)(i,2),u=l[0],o=l[1],b=Object(n.useState)(""),d=Object(X.a)(b,2),f=d[0],v=d[1],h=Object(n.useState)(""),w=Object(X.a)(h,2),N=w[0],g=w[1],S=Object(n.useState)(p),O=Object(X.a)(S,2),T=O[0],k=O[1],j=Object(n.useState)(""),x=Object(X.a)(j,2),y=x[0],C=x[1],A=Object(n.useState)(""),R=Object(X.a)(A,2),M=R[0],L=R[1];return c.a.createElement("div",{className:"h-100 w-100 center br1 pa3 ba b--black-10 "},c.a.createElement("h1",{className:"tc b gold f3"},"NEW MISSION"),c.a.createElement("form",{onSubmit:function(e){var n=new se(f.trim(),u,T,M,y);console.log(n),r.unshift(n),J(D,n,"Missions",a),t(5),e.preventDefault();var c={title:m,view:I,ID:n.id};s(c)},className:"flex flex-column",title:E},c.a.createElement("input",{className:"pa2 mb1",autoFocus:!0,type:"text",placeholder:"Outcome",value:f,onChange:function(e){return v(e.target.value)}}),c.a.createElement("textarea",{className:"pa2 mb1",placeholder:"Details",value:N,onChange:function(e){return g(e.target.value)}}),c.a.createElement("textarea",{className:"pa2 mb1",placeholder:"What is the purpose of the mission?",value:u,onChange:function(e){return o(e.target.value)}}),c.a.createElement(le,{item:{},dueDate:T,updateFunc:k}),c.a.createElement("select",{className:"pa2 mb1",id:"priority",value:y,onChange:function(e){return C(e.target.value)}},c.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"Priority"),c.a.createElement("option",{value:"LOW"},"Low"),c.a.createElement("option",{value:"MEDIUM"},"Medium"),c.a.createElement("option",{value:"HIGH"},"High")),c.a.createElement("textarea",{className:"pa2 mb1",placeholder:"Requirements",value:M,onChange:function(e){return L(e.target.value)}}),c.a.createElement("input",{className:"pa2 mb1",type:"submit",value:"submit"})))}));var me=Object(l.b)((function(e){return{view:e.values.view,itemID:e.values.itemID,db:e.items.record.items}}),(function(e){return{onTouch:function(t){return e(A(t))},shipItems:function(t,a,n){return e(q(t,a))},changeNav:function(t){return e(x(t))}}}))((function(e){var t=e.updateExp,a=e.shipItems,s=e.changeNav,r=(e.db.References,(new Date).toISOString().substr(0,10)),i=Object(n.useState)(""),l=Object(X.a)(i,2),u=l[0],o=l[1],m=Object(n.useState)(""),b=Object(X.a)(m,2),d=b[0],E=b[1],f=Object(n.useState)(r),h=Object(X.a)(f,2);return h[0],h[1],c.a.createElement("div",{className:"h-100 w-100 center br1 pa3 ba b--black-10 "},c.a.createElement("h1",{className:"tc b gold f3"},"NEW REFERENCE"),c.a.createElement("form",{onSubmit:function(e){var n=new re(u,d);console.log(n),J(D,n,"References",a),t(5),e.preventDefault();var c={title:v,view:I,ID:n.id};s(c)},className:"flex flex-column",title:"REFERENCE"},c.a.createElement("input",{className:"pa2 mb1",autoFocus:!0,type:"text",placeholder:"Name",value:u,onChange:function(e){return o(e.target.value)}}),c.a.createElement("textarea",{className:"pa2 mb1",placeholder:"Details",value:d,onChange:function(e){return E(e.target.value)}}),c.a.createElement("input",{className:"pa2 mb1",type:"submit",value:"submit"})))}));var be=Object(l.b)((function(e){return{view:e.values.view,itemID:e.values.itemID,db:e.items.record.items}}),(function(e){return{onTouch:function(t){return e(A(t))},shipItems:function(t,a,n){return e(q(t,a))},changeNav:function(t){return e(x(t))}}}))((function(e){var t=e.updateExp,a=e.shipItems,s=e.changeNav,r=(e.db.Events,(new Date).toISOString().substr(0,10)),i=Object(n.useState)(""),l=Object(X.a)(i,2),u=l[0],o=l[1],m=Object(n.useState)(r),b=Object(X.a)(m,2),d=b[0],E=b[1],f=Object(n.useState)(""),v=Object(X.a)(f,2),p=v[0],w=v[1],N=Object(n.useState)(""),g=Object(X.a)(N,2),S=g[0],O=g[1],T=Object(n.useState)(""),k=Object(X.a)(T,2),x=k[0],y=k[1],C=Object(n.useState)(""),A=Object(X.a)(C,2),R=A[0],M=A[1];return c.a.createElement("div",{className:"h-100 w-100 center br1 pa3 ba b--black-10 "},c.a.createElement("h1",{className:"tc b gold f3"},"NEW EVENT"),c.a.createElement("form",{onSubmit:function(e){var n=new ie(u,d,p,S,x);console.log(n),J(D,n,"Events",a),t(5),e.preventDefault();var c={title:h,view:I,ID:n.id};s(c)},className:"flex flex-column",title:h},c.a.createElement("input",{className:"pa2 mb1",autoFocus:!0,type:"text",placeholder:"Name",value:u,onChange:function(e){return o(e.target.value)}}),c.a.createElement("label",{className:"fw4 white",htmlFor:"date"},"Date:"),c.a.createElement("input",{className:"pa2 mb1",id:"date",type:"date",min:r,value:d,onChange:function(e){return E(e.target.value)}}),c.a.createElement("label",{className:"fw4 white",htmlFor:"time"},"Time:"),c.a.createElement("input",{className:"pa2 mb1",id:"time",type:"time",value:p,onChange:function(e){w(e.target.value),console.log(p)}}),c.a.createElement("label",{className:"fw4 white",htmlFor:"location"},"Location:"),c.a.createElement("input",{className:"pa2 mb1",autoFocus:!0,type:"text",placeholder:"Location",value:S,onChange:function(e){return O(e.target.value)}}),c.a.createElement("label",{className:"fw4 white",htmlFor:"frequency"},"Frequency:"),c.a.createElement("select",{className:"pa2 mb1",id:"priority",value:x,onChange:function(e){return y(e.target.value)}},c.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"Frequency"),c.a.createElement("option",{value:"NONE"},"ONE-TIME"),c.a.createElement("option",{value:j},"DAILY"),c.a.createElement("option",{value:"WEEKLY"},"WEEKLY"),c.a.createElement("option",{value:"MONTHLY"},"MONTHLY"),c.a.createElement("option",{value:"YEARLY"},"YEARLY")),c.a.createElement("textarea",{className:"pa2 mb1",placeholder:"Note",value:R,onChange:function(e){return M(e.target.value)}}),c.a.createElement("input",{className:"pa2 mb1",type:"submit",value:"submit"})))}));var de=Object(l.b)((function(e){return{view:e.values.view,title:e.values.title,itemID:e.values.itemID,db:e.items.record.items,exp:e.UpdateExpReducer.exp}}),(function(e){return{changeTitle:function(t){return e(y(t))},changeItemID:function(t){return e(C(t))},shipItems:function(t,a,n){return e(q(t,a))},changeNav:function(t){return e(x(t))}}}))((function(e){e.submitFunction;var t=e.title,a=e.updateExp,s=(e.changeItemID,e.shipItems),r=e.db,i=e.changeTitle,l=e.itemID,u=e.changeNav,o=(e.exp,Object(n.useState)("Enter item name")),E=Object(X.a)(o,2),f=E[0],p=E[1];function w(e){if("Enter item name"!==f&&""!==f){var t=new ne(f);a(5),Q(r,d,t,D,s),n=t.id,u({title:d,view:I,ID:n}),p("Enter item name"),e.preventDefault()}var n;e.preventDefault()}return r.Inbox,c.a.createElement("div",{className:"pa1 w-100"},c.a.createElement("div",{className:"pa1 w-100 flex justify-center"},c.a.createElement("button",{className:"f7 button w-20",onClick:function(e){return i(d)}},"INBOX"),c.a.createElement("button",{className:"f7 button w-20",onClick:function(e){return i(b)}},"TASK"),c.a.createElement("button",{className:"f7 button w-20",onClick:function(e){return i(m)}},"MISSION"),c.a.createElement("button",{className:"f7 button w-20",onClick:function(e){return i(v)}},"REFERENCE"),c.a.createElement("button",{className:"f7 button w-20",onClick:function(e){return i(h)}},"EVENT")),function(){switch(!0){case t===b:return c.a.createElement(ue,{updateExp:a});case t===m&&0===parseInt(l):return c.a.createElement(oe,{updateExp:a});case t===m&&0!==parseInt(l):return c.a.createElement(ue,{updateExp:a});case t===v:return c.a.createElement(me,{updateExp:a});case"CALENDAR"===t:case t===h:return c.a.createElement(be,{updateExp:a});default:return c.a.createElement("div",{className:"h-100 w-100 center ba b--black-10 "},c.a.createElement("h1",{className:"tc gold b"},"NEW ITEM"),c.a.createElement("form",{onSubmit:w,className:"flex flex-column",title:d},c.a.createElement("input",{className:"pa2 mb2",type:"text",autoFocus:!0,onChange:function(e){return p(e.target.value)},placeholder:"Enter item name..."}),c.a.createElement("input",{className:"pa2 mb1",type:"submit",value:"submit"})))}}())}));function Ee(e){var t=e.question,a=e.yes,n=e.no;return c.a.createElement("div",{className:"h-100 w-100 br1 pa3 flex items-center flex-column"},c.a.createElement("h2",{className:"white tc pb2"},t),c.a.createElement("div",null,c.a.createElement("button",{className:"button",onClick:a},"YES"),c.a.createElement("button",{className:"button",onClick:n},"NO")))}function fe(e){var t=e.question,a=e.submitFunction,s=Object(n.useState)(""),r=Object(X.a)(s,2),i=r[0],l=r[1];return c.a.createElement("div",{className:"h-100 w-100 center br1 pa3 ba b--black-10 flex items-center flex-column"},c.a.createElement("h2",{className:"white tc pb2"},t),c.a.createElement("form",{onSubmit:function(e){""!==i&&(a(i),l("")),e.preventDefault()}},c.a.createElement("input",{type:"text",autoFocus:!0,value:i,onChange:function(e){return l(e.target.value)}}),c.a.createElement("input",{type:"submit",value:"submit"})))}var ve=Object(l.b)((function(e){return{itemID:e.values.itemID,exp:e.UpdateExpReducer.exp,status:e.UpdateTaskStatusReducer.taskStatus,activeTask:e.SetActiveTaskReducer.activeTask,activeSince:e.SetActiveTaskReducer.activeSince,timerOn:e.SetActiveTaskReducer.timerOn,db:e.items.record.items}}),(function(e){return{changeItemID:function(t){return e(C(t))},updateExp:function(t){return e(R(t))},updateTaskStatus:function(t){return e(L(t))},setActiveTask:function(t){return e(F(t))},shipItems:function(t,a,n){return e(q(t,a))},changeNav:function(t){return e(x(t))}}}))((function(e){var t=e.task,a=(e.position,e.changeNav),n=e.updateExp,s=(e.changeItemID,e.setActiveTask),r=e.activeSince,i=e.activeTask,l=e.shipItems,u=(e.db,e.timerOn);"ACTIVE"===t.status&&!1===u&&(b(),console.log("Timer is off"));function o(){J(O,t,"Tasks",l)}var m=parseInt(t.timeSpent);function b(){t.status="ACTIVE",0===t.activeSince&&(t.activeSince=(new Date).getTime()),s(t),o()}function d(){var e=(new Date).getTime();t.timeSpent=m+(e-parseInt(r)),s({}),t.status="PAUSED",t.activeSince=0,u=!1,o()}function E(){var e=(new Date).toISOString().substr(0,10);t.doneDate=e,"ACTIVE"===t.status&&d(),t.status=k,s({}),n(t.exp),o();var c={title:"COMPLETED",view:"DETAILS",ID:t.id};a(c)}switch(t.status){case"ACTIVE":return c.a.createElement("div",{className:"flex justify-center"},c.a.createElement("button",{className:"button",onClick:d},"PAUSE"),c.a.createElement("button",{className:"button",onClick:E},"MARK DONE"));case"PAUSED":if(void 0===i.id)return c.a.createElement("div",{className:"flex justify-center"},c.a.createElement("button",{className:"button",onClick:b},"CONTINUE"),c.a.createElement("button",{className:"button",onClick:E},"MARK DONE"));case"PENDING":return void 0===i.id?c.a.createElement("div",{className:"flex justify-center"},c.a.createElement("button",{className:"button",onClick:b},"START"),c.a.createElement("button",{className:"button",onClick:E},"MARK DONE")):c.a.createElement("div",null);default:return c.a.createElement("div",null)}}));var he=Object(l.b)((function(e){return{view:e.values.view,itemID:e.values.itemID,db:e.items.record.items}}),(function(e){return{onTouch:function(t){return e(A(t))},changeItemID:function(t){return e(C(t))},shipItems:function(t,a,n){return e(q(t,a))},changeNav:function(t){return e(x(t))}}}))((function(e){var t,a=e.nextItemID,s=e.item,r=(e.touchFunction,e.changeItemID,e.itemIndex,e.db),i=e.shipItems,l=e.changeNav,u=r.Inbox,o=r.Missions,E=r.Tasks,f=r.Someday,p=r.References,w=r.Events,N=Object(n.useState)(""),g=Object(X.a)(N,2),S=g[0],k=g[1],j=Object(n.useState)(""),x=Object(X.a)(j,2),y=x[0],C=x[1],A=Object(n.useState)(null),R=Object(X.a)(A,2),M=R[0],L=R[1],F=Object(n.useState)(null),V=Object(X.a)(F,2),P=V[0],q=V[1],U=Object(n.useState)(null),B=Object(X.a)(U,2),_=B[0],K=B[1],W=Object(n.useState)(null),Y=Object(X.a)(W,2),H=Y[0],G=Y[1],Q=Object(n.useState)(0),$=Object(X.a)(Q,2),z=$[0],Z=$[1],ee=Object(n.useState)(0),te=Object(X.a)(ee,2),ae=te[0],ne=te[1],ue=Object(n.useState)(null),oe=Object(X.a)(ue,2),me=oe[0],be=oe[1],de=Object(n.useState)(0),ve=Object(X.a)(de,2),he=ve[0],pe=ve[1],we=Object(n.useState)(0),Ne=Object(X.a)(we,2),ge=(Ne[0],Ne[1]),Ie=Object(n.useState)(null),Se=Object(X.a)(Ie,2),De=Se[0],Oe=Se[1],Te=Object(n.useState)(null),ke=Object(X.a)(Te,2),je=ke[0],xe=ke[1],ye=Object(n.useState)(null),Ce=Object(X.a)(ye,2),Ae=Ce[0],Re=Ce[1],Me=Object(n.useState)(null),Le=Object(X.a)(Me,2),Fe=(Le[0],Le[1]),Ve=Object(n.useState)(!1),Pe=Object(X.a)(Ve,2),qe=Pe[0],Ue=(Pe[1],Object(n.useState)(!1)),Be=Object(X.a)(Ue,2),_e=Be[0],Ke=Be[1],We=Object(n.useState)(!1),Ye=Object(X.a)(We,2),Xe=Ye[0],He=Ye[1],Ge=Object(n.useState)(null),Je=Object(X.a)(Ge,2),Qe=Je[0],$e=Je[1],ze=Object(n.useState)(""),Ze=Object(X.a)(ze,2),et=Ze[0],tt=Ze[1],at=Object(n.useState)(null),nt=Object(X.a)(at,2),ct=nt[0],st=nt[1];function rt(e){var t,a=S;!0===P&&(a="",t=he);var n=new ce(e,a,y,t);xe(n),console.log("new task = ",n),lt(),ne(n.id),ge(n.id)}function it(e,t,a,n){switch(t){case o:"Missions";break;case u:"Inbox";break;case p:"References";break;case w:"Events";break;case E:"Tasks"}switch(e){case"REMOVE":break;case D:t.unshift(a)}}function lt(){s.status=T,s.processedDate=(new Date).toISOString().substr(0,10),J(O,s,"Inbox",i)}function ut(e){Z(0),l({title:d,view:I,ID:a})}function ot(){Z(z+1)}switch("UNPROCESSED"===s.status&&0===z&&ot(),P?t={title:m,view:I,ID:De.id}:!1===P&&z>4&&(t={title:b,view:I,ID:je.id}),!0){case 1===z:return c.a.createElement("div",{className:"h-100 w-100 center br1 pa3 ba b--black-10 show "},c.a.createElement(Ee,{question:"Is this Actionable?",yes:function(){L(!0),ot()},no:function(){L(!1),ot()}}));case!1===M&&2===z:return c.a.createElement("div",{className:"h-100 w-100 center br1 pa3 ba b--black-10 flex items-center flex-column show "},c.a.createElement("button",{className:"button",id:a,onClick:function(){He(!0),function(e){var t=new re(e);$e(t),console.log("new ref = ",t),ne(t.id)}(s.name),ot()}},"ADD TO REFERENCES"),c.a.createElement("button",{className:"button",id:a,onClick:function(){Ke(!0),function(e){var t=new ie(e);st(t),console.log("new event = ",t),ne(t.id)}(s.name),ot()}},"ADD TO EVENTS"));case!0===qe&&3===z:return c.a.createElement("div",{className:"h-100 w-100 center br1 pa3 ba b--black-10 flex items-center flex-column show "},c.a.createElement("h3",{className:"white tc pb2"},"Item has been trashed"),c.a.createElement("button",{className:"button",id:a,onClick:ut},"PROCESS NEXT ITEM"));case!1===M&&3===z&&!0===Xe:return c.a.createElement("div",{className:"h-100 w-100 center br1 pa3 ba b--black-10 flex items-center flex-column"},c.a.createElement("h2",{className:"white tc pb2"},"Any details to add?"),c.a.createElement("form",{onSubmit:function(e){Qe.details=et,console.log(Qe),J(O,Qe,"References",i),lt(),e.preventDefault(),ot()}},c.a.createElement("textarea",{rows:"4",cols:"45",autoFocus:!0,value:et,onChange:function(e){return tt(e.target.value)}}),c.a.createElement("input",{type:"submit",value:"submit"})));case!1===M&&3===z&&!0===_e:return c.a.createElement("div",{className:"h-100 w-100 center br1 pa3 ba b--black-10 flex items-center flex-column"},c.a.createElement("h2",{className:"white tc pb2"},"Date of Event?"),c.a.createElement(le,{item:ct,dueDate:ct.date,updateFunc:function(e){ct.date=e}}),c.a.createElement("div",null,c.a.createElement("button",{className:"button",onClick:function(){J(D,ct,"Events",i),it(D,w,ct),lt(),ot()}},"CONTINUE")));case!1===M&&4===z:return c.a.createElement("div",{className:"h-100 w-100 center br1 pa3 ba b--black-10 flex items-center flex-column show "},c.a.createElement("h3",{className:"white tc pb2"},"Item has been processed"),c.a.createElement("button",{className:"button",id:a,onClick:ut},"PROCESS NEXT ITEM"),c.a.createElement("button",{className:"button",id:a,onClick:function(){!0===Xe?l(t={title:v,view:I,ID:ae}):function(e){l(t={title:h,view:I,ID:e})}(ae)}},"VIEW ITEM"));case!0===M&&2===z:return c.a.createElement("div",{className:"h-100 w-100 center br1 pa3 ba b--black-10 show "},c.a.createElement(fe,{question:"What's the desired outcome?",submitFunction:function(e){k(e),ot()}}));case 3===z:return c.a.createElement("div",{className:"h-100 w-100 center br1 pa3 ba b--black-10 show "},c.a.createElement(Ee,{question:"Can the outcome be reached with just one task?",yes:function(){q(!1),ot()},no:function(){q(!0),ot(),function(){var e=new se(S);Oe(e),pe(e.id),lt(),ne(e.id)}()}}));case!1===P&&4===z:return c.a.createElement("div",{className:"h-100 w-100 center br1 pa3 ba b--black-10 show "},c.a.createElement(fe,{question:"What's the task?",submitFunction:function(e){rt(e),ot()}}));case!0===P&&4===z:return c.a.createElement("div",{className:"h-100 w-100 center br1 pa3 ba b--black-10 show "},c.a.createElement(fe,{question:"What's the first task?",submitFunction:function(e){rt(e),ot()}}));case!0===P&&5===z:return c.a.createElement("div",{className:"h-100 w-100 center br1 pa3 ba b--black-10 show "},c.a.createElement(Ee,{question:"Can the desired outcome be reached within the next 12 months?",yes:function(){be(!0),De.taskList.unshift(je.id),J(D,De,"Missions",i),it(D,o,De),ot()},no:function(){De.taskList.unshift(je.id),it(D,f,De),be(!1),lt(),ot()}}));case!1===P&&5===z:return c.a.createElement("div",{className:"h-100 w-100 center br1 pa3 ba b--black-10 show "},c.a.createElement(Ee,{question:"Can the desired outcome be reached within the next 12 months?",yes:function(){be(!0),ot()},no:function(){it(D,f,je),be(!1),lt(),ot()}}));case!0===P&&6===z&&!0===me:return c.a.createElement("div",{className:"h-100 w-100 center br1 pa3 ba b--black-10 flex items-center flex-column show "},c.a.createElement("h3",{className:"white tc pb2"},"A new Mission has been added"),c.a.createElement("button",{className:"button",id:a,onClick:ut},"PROCESS NEXT ITEM"),c.a.createElement("button",{className:"button",id:a,onClick:function(){return l(t)}},"VIEW MISSION"));case!0===P&&6===z&&!1===me:return c.a.createElement("div",{className:"h-100 w-100 center br1 pa3 ba b--black-10 flex items-center flex-column show "},c.a.createElement("h3",{className:"white tc pb2"},"A new Mission has been added to the Someday List"),c.a.createElement("button",{className:"button",id:a,onClick:ut},"PROCESS NEXT ITEM"));case!1===P&&6===z&&!1===me:return c.a.createElement("div",{className:"h-100 w-100 center br1 pa3 ba b--black-10 flex items-center flex-column show "},c.a.createElement("h3",{className:"white tc pb2"},"A new Task has been added to the Someday List"),c.a.createElement("button",{className:"button",id:a,onClick:ut},"PROCESS NEXT ITEM"));case!1===P&&6===z&&!0===me:return console.log("step 5. new task: ",je),c.a.createElement("div",{className:"h-100 w-100 center br1 pa3 ba b--black-10 show "},c.a.createElement(Ee,{question:"Can it be done now in 5 minutes or less?",yes:function(){K(!0),J(D,je,"Tasks",i),it(D,E,je),ot()},no:function(){K(!1),ot()}}));case!0===_&&7===z:return console.log("new tasklKST:",E),c.a.createElement("div",{className:"h-100 w-100 center br1 pa3 ba b--black-10 show "},c.a.createElement("h2",{className:"fw8 b white pb2"},"LET'S DO IT!"),c.a.createElement("div",{className:"w-100 pa2 pb3"},c.a.createElement("h3",{className:"fw7 b white pb2"},je.name)),c.a.createElement("button",{className:"button",onClick:function(){lt(),l(t)}},"GO TO TASK "));case!1===_&&7===z:return c.a.createElement("div",{className:"h-100 w-100 center br1 pa3 ba b--black-10 show "},c.a.createElement(Ee,{question:"Can this task be delegated?",yes:function(){G(!0),ot()},no:function(){G(!1),ot()}}));case!0===H&&8===z:return c.a.createElement("div",{className:"h-100 w-100 center br1 pa3 ba b--black-10 show "},c.a.createElement(fe,{question:"Who would you like to assign this task to?",submitFunction:function(e){Re(e),je.agent=Ae,ot()}}));case!1===H&&8===z:return c.a.createElement("div",{className:"h-100 w-100 center br1 pa3 ba b--black-10 show "},c.a.createElement("h2",{className:"fw4 white"},"By when should this task to be done"),c.a.createElement(le,{item:je,dueDate:je.dueDate,updateFunc:function(e){je.dueDate=e}}),c.a.createElement("div",null,c.a.createElement("button",{className:"button",onClick:function(){Fe(je.dueDate),console.log(je),ot()}},"CONTINUE")));case!1===H&&9===z:return c.a.createElement("div",{className:"h-100 w-100 center br1 pa3 ba b--black-10 show "},c.a.createElement(fe,{question:"Where should this task be done?",submitFunction:function(e){C(e),je.requiredContext=e,J(D,je,"Tasks",i),it(D,E,je),ot()}}));case 10===z:return c.a.createElement("div",{className:"h-100 w-100 center br1 pa3 ba b--black-10 show flex items-center flex-column"},c.a.createElement("h3",{className:"white tc pb2"},"A new Task has been added"),c.a.createElement("button",{className:"button",id:a,onClick:ut},"PROCESS NEXT ITEM"),c.a.createElement("button",{className:"button",id:a,onClick:function(){return l(t)}},"VIEW TASK"));default:return c.a.createElement("div",{className:"h-100 w-100 center br1 pa3 ba b--black-10 show "},c.a.createElement("button",{className:"button",id:a,onClick:ut},"PROCESS NEXT ITEM"))}}));function pe(e){var t=e.selectAnother,a=e.prevID,n=e.currentID;return parseInt(n)!==a?c.a.createElement("div",{className:"whiteB w3 h3 flex items-center justify-center",onClick:function(){return t(a)}},c.a.createElement("h2",{className:" white b f8 fw9 ma0"},"Prev")):c.a.createElement("div",{className:"ba bw1 b--silver w3 h3 flex items-center justify-center"},c.a.createElement("h2",{className:" gray b f8 fw9 ma0"},"Prev"))}function we(e){var t=e.selectAnother,a=e.nextID,n=e.currentID;return parseInt(n)!==a?c.a.createElement("div",{className:"whiteB w3 h3 flex items-center justify-center",onClick:function(){return t(a)}},c.a.createElement("h2",{className:" white b f8 fw9 ma0"},"Next")):c.a.createElement("div",{className:"ba bw1 b--silver w3 h3 flex items-center justify-center"},c.a.createElement("h2",{className:" gray b f8 fw9 ma0"},"Next"))}var Ne=Object(l.b)((function(e){return{db:e.items.record.items}}))((function(e){for(var t,a=e.id,s=e.touchFunction,r=e.selectAnother,i=e.prevID,l=e.nextID,u=e.db.Inbox,o=Object(n.useState)(!1),m=Object(X.a)(o,2),b=m[0],d=m[1],E={},f=null,v=0;v<u.length;v++)if(u[v].id===a){E=u[v],t=v,f=u[v+1]?u[v+1].id:0;break}if(console.log(E),E.name)switch(b){case!1:return c.a.createElement("div",{className:"h-100"},c.a.createElement("h5",{className:"white b pb2"},"Name: ",E.name),c.a.createElement("h5",{className:"white pb2"},"Entry Date: ",new Date(E.entryDate).toISOString().substr(0,10)," "),c.a.createElement("div",{className:"h-100 w-100 center br1 pa3 ba b--black-10 flex items-center flex-column show "},c.a.createElement("button",{onClick:function(){return d(!0)}},"PROCESS THIS")),c.a.createElement(te,null),c.a.createElement("div",{className:"flex justify-between self-end"},c.a.createElement(pe,{selectAnother:r,prevID:i,currentID:a}),c.a.createElement(we,{selectAnother:r,nextID:l,currentID:a})));default:return c.a.createElement("div",null,c.a.createElement("h5",{className:"white b pb2"},"Name: ",E.name),c.a.createElement("h5",{className:"white pb2"},"Entry Date: ",new Date(E.entryDate).toISOString().substr(0,10)," "),c.a.createElement("br",null),c.a.createElement(he,{item:E,nextItemID:f,touchFunction:s,itemIndex:t}))}})),ge=(a(30),Object(l.b)((function(e){return{activeTask:e.SetActiveTaskReducer.activeTask,status:e.UpdateTaskStatusReducer.taskStatus,activeSince:e.SetActiveTaskReducer.activeSince,timeNow:e.SetActiveTaskReducer.timeNow}}),(function(e){return{updateTaskStatus:function(t){return e(L(t))},setActiveTask:function(t){return e(F(t))}}}))((function(e){var t=e.timeSpent,a=e.task,s=e.activeTask,r=e.activeSince;e.timeNow;if(a.id===parseInt(s.id)){var i=(new Date).getTime();t+=i-r}var l=t,u=(l=(l-l%1e3)/1e3)%60,o=(l=(l-u)/60)%60,m=(l-o)/60,b=Object(n.useState)(u),d=Object(X.a)(b,2),E=d[0],f=d[1],v=Object(n.useState)(o),h=Object(X.a)(v,2),p=h[0],w=h[1],N=Object(n.useState)(m),g=Object(X.a)(N,2),I=g[0],S=g[1],D=Object(n.useState)(!1),O=Object(X.a)(D,2),T=O[0],k=O[1],j=Object(n.useState)(!1),x=Object(X.a)(j,2),y=x[0],C=x[1];Object(n.useEffect)((function(){f(u),w(o),S(m),a.id!==parseInt(s.id)&&(C(!1),k(!1))}),[u,o,m,s.timeSpent,s.id,r,a.id]),a.id===parseInt(s.id)&&!1===T&&k(!0);switch(Object(n.useEffect)((function(){var e=null;return T&&a.id===parseInt(s.id)?e=setInterval((function(){f((function(e){return e+1})),E>=59&&(w((function(e){return e+1})),f(0),p>=59&&(S((function(e){return e+1})),w(0)))}),1e3):T||0===E||clearInterval(e),function(){return clearInterval(e)}}),[T,E,p,I,y,s.id,a.id]),a.id){case s.id:return c.a.createElement("div",{className:""},c.a.createElement("h5",{className:"fw3 white b"},"Time Spent:",c.a.createElement("span",{className:"fw3 yellow b"}," ",I.toLocaleString(void 0,{minimumIntegerDigits:2}),":",p.toLocaleString(void 0,{minimumIntegerDigits:2}),":",E.toLocaleString(void 0,{minimumIntegerDigits:2}))));default:return c.a.createElement("div",{className:""},c.a.createElement("div",{className:""},c.a.createElement("h5",{className:"fw3 white b"},"Time Spent: ",I.toLocaleString(void 0,{minimumIntegerDigits:2}),":",p.toLocaleString(void 0,{minimumIntegerDigits:2}),":",E.toLocaleString(void 0,{minimumIntegerDigits:2})," ")))}})));var Ie=Object(l.b)((function(e){return{title:e.values.title,view:e.values.view,previousView:e.values.previousView,itemID:e.values.itemID,exp:e.UpdateExpReducer.exp,status:e.UpdateTaskStatusReducer.taskStatus,activeTask:e.SetActiveTaskReducer.activeTask,activeSince:e.SetActiveTaskReducer.activeSince,db:e.items.record.items}}),(function(e){return{onTouch:function(t){return e(A(t))},changeItemID:function(t){return e(C(t))},updateExp:function(t){return e(R(t))},updateTaskStatus:function(t){return e(L(t))},shipItems:function(t,a,n){return e(q(t,a))},changeNav:function(t){return e(x(t))}}}))((function(e){var t,a,s=e.id,r=e.title,i=(e.updateExp,e.activeSince),l=e.activeTask,u=e.db,o=e.shipItems,d=e.changeNav,E=(e.exp,u.Missions),f=u.Tasks,v={};a=r===p?u.Tasks.concat(u.Missions):f;for(var h=0;h<a.length;h++)if(a[h].id===s){v=a[h],t=h;break}var w={};if(0===v.associatedMissionID)w.name="Getting Things Done";else if(v.associatedMissionID>0)for(var N=0;N<E.length;N++)if(parseInt(v.associatedMissionID)===parseInt(E[N].id)){w=E[N];break}var g=Object(n.useState)(v.name),S=Object(X.a)(g,2),D=S[0],T=S[1],k=Object(n.useState)(v.requiredContext),j=Object(X.a)(k,2),x=j[0],y=j[1],C=Object(n.useState)(v.outcome),A=Object(X.a)(C,2),R=A[0],M=A[1],L=Object(n.useState)(v.dueDate),F=Object(X.a)(L,2),V=F[0],P=F[1],q=Object(n.useState)(v.note),U=Object(X.a)(q,2),B=U[0],_=U[1],K=Object(n.useState)(u.lastUpdated),W=Object(X.a)(K,2);W[0],W[1];function Y(e,t,a){e[t]!==a&&(console.log("old value (".concat(e[t],") !== new value (").concat(a,")")),e[t]=a,Q(u,b,v,O,o))}switch(Object(n.useEffect)((function(){T(v.name),y(v.requiredContext),M(v.outcome),_(v.note),P(v.dueDate),console.log("Last Updated: ",u.lastUpdated)}),[v.name,v.requiredContext,v.outcome,v.note,v.dueDate,v.timeSpent,i,l,v.id,u.lastUpdated]),r){case"COMPLETED":default:return c.a.createElement("div",{className:"h-100"},c.a.createElement(Z,null,c.a.createElement("div",{className:"w-100 pb3"},c.a.createElement("textarea",{rows:"2",cols:"30",wrap:"hard",onChange:function(e){T(e.target.value)},onBlur:function(){Y(v,"name",D)},value:D,className:"bn fw9 b white bg-transparent pa1"}),c.a.createElement("input",{type:"text",onChange:function(e){y(e.target.value)},onBlur:function(){Y(v,"requiredContext",x)},value:x,className:"fw1 white bn bg-transparent"})),c.a.createElement("div",{className:"w-100 pb3"},c.a.createElement("h5",{className:"fw3 white"},"Mission: "),c.a.createElement("h4",{className:"fw5 white",onClick:function(){0!=v.associatedMissionID&&function(e,t){d({title:t,view:I,ID:e})}(v.associatedMissionID,m)}},w.name)),c.a.createElement("div",{className:"w-100 pb3"},c.a.createElement("h5",{className:"fw3 white"},"Outcome: "),c.a.createElement("textarea",{rows:"2",cols:"45",onChange:function(e){M(e.target.value)},onBlur:function(){Y(v,"outcome",R)},value:R,className:"w-80 fw3 white bn bg-transparent"})),c.a.createElement("div",{className:"w-100 pb3 flex justify-between"},c.a.createElement(ge,{timeSpent:v.timeSpent,task:v})),c.a.createElement("h5",{className:"fw3 white"},"DUE:"),c.a.createElement(le,{item:v,dueDate:V,updateFunc:function(e){Y(v,"dueDate",e)}}),c.a.createElement("div",{className:"w-100 pl2 pb3 flex justify-between"}),c.a.createElement("div",{className:"pb2"},c.a.createElement("h5",{className:"bb b--white pb2 fw3 white b"},"NOTE"),c.a.createElement("div",{className:"pa2"},c.a.createElement("textarea",{rows:"2",cols:"45",onChange:function(e){_(e.target.value)},onBlur:function(){Y(v,"note",B)},value:B,className:"fw3 white bn bg-transparent"}))),c.a.createElement("h5",{className:"fw3 white"},"Status: ",v.status)),c.a.createElement(ve,{task:v,position:t}))}}));a(31);var Se=Object(l.b)((function(e){return{view:e.values.view,previousView:e.values.previousView,itemID:e.values.itemID,exp:e.UpdateExpReducer.exp,previousState:e.RestorePreviousStateReducer.previousState,db:e.items.record.items}}),(function(e){return{onTouch:function(t){return e(A(t))},changeItemID:function(t){return e(C(t))},updateExp:function(t){return e(R(t))},restorePreviousState:function(t){return e(M(t))},shipItems:function(t,a,n){return e(q(t,a))}}}))((function(e){var t=e.mission,a=(e.view,e.changeItemID),s=e.db,r=e.shipItems,i=(e.exp,s.Tasks.concat(s.Completed)),l=[];function u(e){!function e(t){t.id?a(t.id):(t=t.parentNode,e(t))}(e.target)}function o(){if(t.taskList!==[])for(var e=0;e<t.taskList.length;e++)for(var a=0;a<i.length;a++)if(t.taskList[e]===i[a].id){l.push(i[a]);break}return l.sort((function(e,t){return e.order-t.order}))}var b=o(),d=Object(n.useState)(t.name),f=Object(X.a)(d,2),v=f[0],h=f[1],p=Object(n.useState)(t.purpose),w=Object(X.a)(p,2),g=w[0],I=w[1],S=Object(n.useState)(t.vision),T=Object(X.a)(S,2),k=T[0],j=T[1],x=Object(n.useState)(t.principles),y=Object(X.a)(x,2),C=y[0],A=y[1],R=Object(n.useState)(t.toDo),M=Object(X.a)(R,2),L=M[0],F=M[1],V=Object(n.useState)(t.skillsRequired),P=Object(X.a)(V,2),q=P[0],U=P[1],B=Object(n.useState)(t.infoRequired),_=Object(X.a)(B,2),K=_[0],W=_[1],Y=Object(n.useState)(t.abilityRequired),H=Object(X.a)(Y,2),$=H[0],z=H[1],ae=Object(n.useState)(t.dueDate),ne=Object(X.a)(ae,2),se=ne[0],re=ne[1],ie=Object(n.useState)(t.backStory),ue=Object(X.a)(ie,2),oe=ue[0],me=ue[1],be=Object(n.useState)(t.outputRef),de=Object(X.a)(be,2),Ee=(de[0],de[1]),fe=Object(n.useState)(t.outputRecordUrl),ve=Object(X.a)(fe,2),he=(ve[0],ve[1]),pe=Object(n.useState)(t.timeRequired),we=Object(X.a)(pe,2),Ne=we[0],ge=we[1],Ie=Object(n.useState)(s.timeSpent),Se=Object(X.a)(Ie,2),De=(Se[0],Se[1]),Oe=Object(n.useState)(t.requirements),Te=Object(X.a)(Oe,2),ke=(Te[0],Te[1]),je=Object(n.useState)(t.priority),xe=Object(X.a)(je,2),ye=(xe[0],xe[1]),Ce=Object(n.useState)(t.frequency),Ae=Object(X.a)(Ce,2),Re=(Ae[0],Ae[1]),Me=Object(n.useState)(t.note),Le=Object(X.a)(Me,2),Fe=(Le[0],Le[1]),Ve=Object(n.useState)(!1),Pe=Object(X.a)(Ve,2),qe=Pe[0],Ue=Pe[1],Be=Object(n.useState)(s.lastUpdated),_e=Object(X.a)(Be,2),Ke=(_e[0],_e[1]),We=Object(n.useState)(!1),Ye=Object(X.a)(We,2),Xe=Ye[0],He=Ye[1],Ge=Object(n.useState)(t.status),Je=Object(X.a)(Ge,2),Qe=Je[0],$e=Je[1],ze=Object(n.useState)(t.taskList),Ze=Object(X.a)(ze,2),et=(Ze[0],Ze[1]);function tt(e,a,n){e[a]!==n&&(console.log("old value (".concat(e[a],") !== new value (").concat(n,")")),e[a]=n,Q(s,m,t,O,r))}function at(e){tt(t,"dueDate",e)}switch(Object(n.useEffect)((function(){h(t.name),I(t.purpose),j(t.vision),A(t.principles),F(t.toDo),U(t.skillsRequired),W(t.infoRequired),z(t.abilityRequired),re(t.dueDate),me(t.backStory),Ee(t.outputRef),he(t.outputRecordUrl),ge(t.timeRequired),Ke(s.lastUpdated),ke(t.requirements),ye(t.priority),Re(t.frequency),Fe(t.note),De(t.timeSpent),et(t.taskList),$e(t.status)}),[t.name,t.purpose,t.vision,t.principles,t.timeRequired,t.toDo,t.skillsRequired,t.infoRequired,t.abilityRequired,t.dueDate,t.backStory,t.outputRef,t.outputRecordUrl,t.timeRequired,s.lastUpdated,t.requirements,t.priority,t.frequency,t.note,t.timeSpent,t.taskList,t.status]),!0){case"UNPLANNED"===t.status&&!1===qe:return c.a.createElement("div",{className:"h-100"},c.a.createElement(Z,null,c.a.createElement("div",{className:"h-20 w-100 pa2 pb2"},c.a.createElement("input",{type:"text",className:"bn fw7 b white bg-transparent",value:v,onChange:function(e){h(e.target.value)},onBlur:function(){tt(t,"name",v)}}),c.a.createElement("h4",{className:"fw1 white"},G(t.dueDate))),c.a.createElement("div",{className:"h-70"},c.a.createElement("div",{className:"w-100 pl2 pb2"},c.a.createElement(le,{item:t,dueDate:se,updateFunc:at})),c.a.createElement("div",{className:"w-100 pl2 pb2"},c.a.createElement("h5",{className:"fw3 white"},"Status: ",Qe)),c.a.createElement("div",{className:"w-100 pl2 pt3"},c.a.createElement("h5",{className:"fw3 white"},"Back Story: "),c.a.createElement("textarea",{rows:"2",cols:"30",wrap:"hard",className:"w-80 fw3 white bn bg-transparent",value:oe,onChange:function(e){me(e.target.value)},onBlur:function(){tt(t,"backStory",oe)}})),c.a.createElement("div",{className:"w-100 flex items-center flex-column "},c.a.createElement("button",{onClick:function(){return Ue(!0)}},"PLAN")),c.a.createElement("div",{className:"flex justify-between items-center"},c.a.createElement("h5",{className:"bb b--white pa2 fw3 white b"},"TASKS"),c.a.createElement(te,null)),c.a.createElement("div",{className:"pa2"},c.a.createElement(ee,{content:b,filter:E,touchFunction:u})))));case!1===qe&&"UNPLANNED"!==t.status:return c.a.createElement("div",{className:"h-100"},c.a.createElement(Z,null,c.a.createElement("div",{className:"w-100 h-20 pa2 pb3"},c.a.createElement("textarea",{rows:"2",cols:"100",className:"bn fw7 b white bg-transparent",value:v,onChange:function(e){h(e.target.value)},onBlur:function(){tt(t,"name",v)}}),c.a.createElement("h4",{className:"fw1 white"},"DUE: ",G(t.dueDate))),c.a.createElement("div",{className:"h-70"},c.a.createElement("div",{className:"w-100 pt2 pl2 pb1"},c.a.createElement("h5",{className:"fw3 white"},"Back Story: "),c.a.createElement("textarea",{rows:"2",cols:"100",className:"w-80 fw3 white bn bg-transparent",value:oe,onChange:function(e){me(e.target.value)},onBlur:function(){tt(t,"backStory",oe)}})),c.a.createElement("div",{className:"w-100 pl2 pb2"},c.a.createElement("h5",{className:"fw3 white"},"Purpose: "),c.a.createElement("textarea",{rows:"2",cols:"30",wrap:"hard",className:"bn fw3 b white bg-transparent",value:g,onChange:function(e){I(e.target.value)},onBlur:function(){tt(t,"purpose",g)}})),c.a.createElement("div",{className:"w-100 pl2 pb2 flex justify-between"},c.a.createElement(le,{item:t,dueDate:se,updateFunc:at})),c.a.createElement("div",{className:"w-100pl2 pl2 pb3 flex justify-between"},c.a.createElement("h5",{className:"fw3 white"},"Status: ",t.status)),c.a.createElement("div",{className:"w-100 center br1 pa3 ba b--black-10 flex items-center flex-column show "},c.a.createElement("button",{onClick:function(){return Ue(!0)}},"PLANS")),c.a.createElement("div",{className:"flex justify-between items-center"},c.a.createElement("h5",{className:"bb b--white pa2 fw3 white b"},"TASKS"),c.a.createElement(te,null)),c.a.createElement("div",{className:"pa2 h-30"},c.a.createElement(ee,{content:b,filter:E,touchFunction:u})))));case qe:return Xe?c.a.createElement("div",{className:"pa2 h-100"},c.a.createElement("button",{onClick:function(){return He(!1)}},"CLOSE TASKS"),c.a.createElement(Z,null,c.a.createElement(ee,{content:b,filter:E,touchFunction:u}))):c.a.createElement("div",{className:" h-100 "},c.a.createElement(Z,null,c.a.createElement("div",{className:" w-100 center br1 ba b--black-10 "},c.a.createElement("h1",{className:"b white f3"},"PLAN"),c.a.createElement("div",{className:"pb4"},c.a.createElement("h5",{className:"fw3 white"},"What's the desired Outcome?"),c.a.createElement("input",{type:"text",className:"bn fw7 b pa1",value:v,onChange:function(e){h(e.target.value)},onBlur:function(){tt(t,"name",v)}})),c.a.createElement("div",{className:"pb4"},c.a.createElement("h5",{className:"fw3 white"},"What's the Purpose?"),c.a.createElement("textarea",{rows:"4",cols:"30",wrap:"hard",className:"pb2 w-80 fw3 bn pa2",value:g,onChange:function(e){I(e.target.value)},onBlur:function(){tt(t,"purpose",g)}})),c.a.createElement("div",{className:"pb4"},c.a.createElement("h5",{className:"fw3 white"},"Vision: Describe what you see:"),c.a.createElement("textarea",{rows:"4",cols:"30",wrap:"hard",className:"w-80 fw3 bn pa2",value:k,onChange:function(e){j(e.target.value)},onBlur:function(){tt(t,"vision",k)}})),c.a.createElement("div",{className:"pb4"},c.a.createElement("h5",{className:"fw3 white"},"Principles/Criteria/Specifications:"),c.a.createElement("textarea",{rows:"4",cols:"150",className:"w-80 fw3 bn pa2",value:C,onChange:function(e){A(e.target.value)},onBlur:function(){tt(t,"principles",C)}})),c.a.createElement("div",{className:"pb4"},c.a.createElement("h5",{className:"fw3 white"},"To do / Next Actions (Brainstorming Output):"),c.a.createElement("textarea",{rows:"4",cols:"150",className:"w-80 fw3 bn pa2",value:L,onChange:function(e){F(e.target.value)},onBlur:function(){tt(t,"toDo",L)}}),c.a.createElement("button",{onClick:function(){return function(e){var a=e.split(",").map((function(e){return e.trim()}));console.log("task names",a);var n=l.map((function(e){return e.name}));console.log("Current Tasks",n);var c=a.filter((function(e){return-1===n.indexOf(e)}));console.log("new Tasks",c),c.length>0&&c.forEach((function(e,a){var n=new ce(e.trim(),t.name,"",t.id,N,a);s.Tasks.unshift(n),J(D,n,"Tasks",r),t.taskList.unshift(n.id),t.status="PENDING",J(O,t,"Missions",r)})),console.log("All Tasks",s.Tasks),o()}(L)}},"CREATE TASKS"),c.a.createElement("button",{onClick:function(){return He(!0)}},"SHOW TASKS"),c.a.createElement("button",{onClick:function(){return tt(t,"taskList",[])}},"Clear Task list")),c.a.createElement("h5",{className:"fw3 white bb b--grey bw2 pb2"},"OPTIONAL"),c.a.createElement("div",{className:"pb4"},c.a.createElement("h5",{className:"fw3 white"},"Skills Required:"),c.a.createElement("textarea",{rows:"4",cols:"150",className:"w-80 fw3 bn pa2",value:q,onChange:function(e){U(e.target.value)},onBlur:function(){tt(t,"skillsRequired",q)}})),c.a.createElement("div",{className:"pb4"},c.a.createElement("h5",{className:"fw3 white"},"Knowledge/Information Required:"),c.a.createElement("textarea",{rows:"4",cols:"150",className:"w-80 fw3 bn pa2",value:K,onChange:function(e){W(e.target.value)},onBlur:function(){tt(t,"infoRequired",K)}})),c.a.createElement("div",{className:"pb4"},c.a.createElement("h5",{className:"fw3 white"},"Ability Required:"),c.a.createElement("textarea",{rows:"4",cols:"150",className:"w-80 fw3 bn",value:$,onChange:function(e){z(e.target.value)},onBlur:function(){tt(t,"abilityRequired",$)}})),c.a.createElement("div",{className:"pb4"},c.a.createElement("h5",{className:"fw3 white"},"Time Required:"),c.a.createElement("textarea",{rows:"4",cols:"150",className:"w-80 fw3 bn",value:Ne,onChange:function(e){ge(e.target.value)},onBlur:function(){tt(t,"timeRequired",Ne)}})),c.a.createElement("button",{onClick:function(){$e("PENDING"),t.status="PENDING",J(O,t,"Missions",r)}},"MARK AS PLANNED"),c.a.createElement("div",{className:"h-100 w-100 center br1 pa3 ba b--black-10 flex items-center flex-column show "},c.a.createElement("button",{onClick:function(){return Ue(!1)}},"CLOSE PLANNER")))))}})),De=Object(l.b)((function(e){return{title:e.values.title,view:e.values.view,itemID:e.values.itemID,missionID:e.values.missionID,previousTitle:e.values.previousTitle,previousView:e.values.previousView,previousItemID:e.values.previousItemID,exp:e.UpdateExpReducer.exp,previousState:e.RestorePreviousStateReducer.previousState}}),(function(e){return{onTouch:function(t){return e(A(t))},changeItemID:function(t){return e(C(t))},restorePreviousState:function(t){return e(M(t))},changeNav:function(t){return e(x(t))}}}))((function(e){e.changeItemID;var t=e.changeNav,a=e.missionID,n=e.title;e.previousTitle,e.previousView,e.previousItemID;return c.a.createElement("div",{className:"whiteB w3 h3 flex items-center justify-center",onClick:function(){var e=0,c=g;"MISSION_TASKS"===n&&(n=m,e=a,c=I),t({title:n,view:c,ID:e})}},c.a.createElement("h1",{className:" white b f8 fw9 ma0"},"<"))}));var Oe=Object(l.b)((function(e){return{title:e.values.title,view:e.values.view,itemID:e.values.itemID,previousView:e.values.previousView,exp:e.UpdateExpReducer.exp,db:e.items.record.items}}),(function(e){return{onTouch:function(t){return e(A(t))},changeItemID:function(t){return e(C(t))},updateExp:function(t){return e(R(t))},shipItems:function(t,a,n){return e(q(t,a))}}}))((function(e){e.id,e.changeItemID,e.updateExp;var t=e.db,a=e.shipItems,s=e.reference;e.exp,t.Reference;console.log("reference: ",s);var r=Object(n.useState)(s.name),i=Object(X.a)(r,2),l=i[0],u=i[1],o=Object(n.useState)(s.details),m=Object(X.a)(o,2),b=m[0],d=m[1];function E(e,n,c){e[n]!==c&&(console.log("old value (".concat(e[n],") !== new value (").concat(c,")")),e[n]=c,Q(t,v,s,O,a))}return Object(n.useEffect)((function(){u(s.name),d(s.details)}),[s.name,s.details]),c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("div",{className:"w-100 pa2 pb3"},c.a.createElement("input",{type:"text",className:"bn fw7 b white bg-transparent",value:l,onChange:function(e){u(e.target.value)},onBlur:function(){E(s,"name",l)}}),c.a.createElement("h5",{className:"fw3 white"},s.type)),c.a.createElement("div",{className:"pa2"},c.a.createElement("textarea",{rows:"4",cols:"45",onChange:function(e){d(e.target.value)},onBlur:function(){E(s,"details",b)},value:b,className:"fw3 white bn bg-transparent"}))))}));var Te=a(15),ke=a.n(Te),je=Object(l.b)((function(e){return{title:e.values.title,view:e.values.view,ID:e.values.itemID,db:e.items.record.items}}),(function(e){return{shipItems:function(t,a,n){return e(q(t,a))},changeNav:function(t){return e(x(t))}}}))((function(e){var t,a,n,s=e.shipItems,r=e.changeNav,i=e.db,l=e.title,u=e.ID,o=i.Inbox,w=i.Missions,N=i.Tasks,g=i.References,I=i.Events,S=i.Tasks.concat(i.Missions),D=(i.Inbox,i.Tasks.concat(i.Missions).filter((function(e){return e.status===k})));switch(l){case m:t=w,n="Missions";break;case b:t=N,n="Tasks";break;case d:t=o,n="Inbox";break;case v:t=g,n="References";break;case h:t=I,n="Events";break;case p:t=S;break;case T:t=N,n="Tasks";break;case"COMPLETED":t=D;break;case"MISSION_TASKS":t=N,n="Tasks"}for(var j=0;j<t.length;j++)if(t[j].id===parseInt(u)){a=t[j],j;break}var x={title:l,view:"LIST",ID:0};return c.a.createElement("div",null,c.a.createElement("img",{src:ke.a,alt:"trash icon",className:"h2",onClick:function(){!function(){switch(console.log("trash button clicked"),console.log("current trash item: ",a),"ACTIVE"===a.status&&(a.status="PAUSED"),a.type){case f:n="Tasks";break;case E:n="Missions";break;case"EVENT":n="Events"}a.isTrashed=!0,a.trashedDate=(new Date).toISOString().substr(0,10),J(O,a,n,s),r(x)}()}}))}));var xe=Object(l.b)((function(e){return{title:e.values.title,view:e.values.view,itemID:e.values.itemID,previousView:e.values.previousView,exp:e.UpdateExpReducer.exp,status:e.UpdateTaskStatusReducer.taskStatus,activeTask:e.SetActiveTaskReducer.activeTask,activeSince:e.SetActiveTaskReducer.activeSince,db:e.items.record.items}}),(function(e){return{updateExp:function(t){return e(R(t))},shipItems:function(t,a,n){return e(q(t,a))},changeNav:function(t){return e(x(t))}}}))((function(e){var t=e.MissionsList,a=e.changeNav,n=e.item;console.log("reached completed stage");var s={};if(0===n.associatedMissionID)s.name="Getting Things Done";else if(n.associatedMissionID>0)for(var r=0;r<t.length;r++)if(parseInt(n.associatedMissionID)===parseInt(t[r].id)){s=t[r],console.log("associated Mission name: ",s.name);break}return console.log("completed",n),c.a.createElement("div",{className:""},c.a.createElement("div",null,c.a.createElement("div",{className:"w-100 pa2 pb3"},c.a.createElement("h3",{className:"fw7 b white pb2"},n.name),c.a.createElement("h4",{className:"fw1 white"},n.requiredContext)),c.a.createElement("div",{className:"w-100 pl2 pb3"},c.a.createElement("h5",{className:"fw3 white"},"Mission: "),c.a.createElement("h4",{className:"fw5 white",onClick:function(){var e;0!==n.associatedMissionID&&(e=n.associatedMissionID,a({title:m,view:I,ID:e}))}},s.name)),c.a.createElement("div",{className:"w-100 pl2 pb3"},c.a.createElement("h5",{className:"fw3 white"},"Outcome: "),c.a.createElement("h5",{className:"fw3 white"},n.outcome," ")),c.a.createElement("div",{className:"w-100 pl2 pb3 flex justify-between"},c.a.createElement("h5",{className:"fw3 white"},"Time Spent: ",function(e){console.log("timespent from calcTime: ",e);var t=e,a=(t=(t-t%1e3)/1e3)%60,n=(t=(t-a)/60)%60;return"".concat(((t-n)/60).toLocaleString(void 0,{minimumIntegerDigits:2}),":\n    ").concat(n.toLocaleString(void 0,{minimumIntegerDigits:2}),":\n    ").concat(a.toLocaleString(void 0,{minimumIntegerDigits:2}))}(n.timeSpent)),c.a.createElement("h5",{className:"fw3 white"},"Due Date: ",n.dueDate===N?N:n.dueDate," ")),c.a.createElement("div",{className:"w-100 pl2 pb3 flex justify-between"},c.a.createElement("h5",{className:"fw3 white"},"COMPLETED: ",n.doneDate," ")),c.a.createElement("div",{className:"w-100 pl2 pb3 flex justify-between"}),c.a.createElement("h5",{className:"fw3 white"},"Status: ",n.status),c.a.createElement("h5",{className:"bb b--white pa2 fw3 white b"},"NOTE"),c.a.createElement("div",{className:"pa2"},c.a.createElement("p",{className:"fw3 white"},n.note))))}));var ye=Object(l.b)((function(e){return{title:e.values.title,view:e.values.view,itemID:e.values.itemID,db:e.items.record.items}}),(function(e){return{updateExp:function(t){return e(R(t))},shipItems:function(t,a,n){return e(q(t,a))},changeNav:function(t){return e(x(t))}}}))((function(e){var t=e.changeNav,a=e.item,n=e.db,s=e.shipItems;function r(e,a,n){t({title:a,view:n,ID:e})}return c.a.createElement("div",null,c.a.createElement("div",{className:"w-100 pa2 pb3"},c.a.createElement("h3",{className:"fw7 b white pb2"},a.name),c.a.createElement("h4",{className:"fw1 white"},a.type)),c.a.createElement("div",{className:"w-100 pl2 pb3"},c.a.createElement("h5",{className:"fw3 white"},"Trashed Date: ",new Date(a.trashedDate).toLocaleString())),c.a.createElement("div",{className:"w-100 ba bw1 b--white tc pb2"},c.a.createElement("h5",{className:"fw3 white",onClick:function(){var e,t;switch(a.type){case"INBOX_ITEM":n.Inbox,e="Inbox",t=d;break;case f:n.Tasks,e="Tasks",t=b;break;case E:n.Missions,e="Missions",t=m;break;case"REFERENCE":n.References,e="References",t=v;break;case"EVENT":n.Events,e="Events",t=h}a.isTrashed=!1,a.trashedDate=0,J(O,a,e,s),r(a.id,t)}},"RESTORE")),c.a.createElement("div",{className:"w-100 ba bw1 b--white tc pb2"},c.a.createElement("h5",{className:"fw3 white",onClick:function(){var e,t;switch(console.log("Deleting item"),a.type){case"INBOX_ITEM":e=n.Inbox,t="Inbox",d;break;case f:e=n.Tasks,t="Tasks",b;break;case E:e=n.Missions,t="Missions",m;break;case"REFERENCE":e=n.References,t="References",v;break;case"EVENT":e=n.Events,t="Events",h}var c=e.map((function(e){return e.id})).indexOf(a.id);console.log("Trash details item index: ",c),e.splice(c,1),console.log("List from trash : ",c),J("REMOVE",a,t,s),r(0,w,g)}},"DELETE")))})),Ce=a(16),Ae=Object(l.b)((function(e){return{title:e.values.title,view:e.values.view,previousView:e.values.previousView,itemID:e.values.itemID,exp:e.UpdateExpReducer.exp,db:e.items.record.items}}),(function(e){return Object(Ce.a)({updateExp:function(t){return e(R(t))},shipItems:function(t,a,n){return e(q(t,a))},changeNav:function(t){return e(x(t))}},"shipItems",(function(t,a,n){return e(q(t,a))}))}))((function(e){e.changeNav;var t=e.item,a=e.shipItems,s=e.db,r=(e.exp,Object(n.useState)(t.name)),i=Object(X.a)(r,2),l=i[0],u=i[1],o=Object(n.useState)(t.date),m=Object(X.a)(o,2),b=m[0],d=m[1],E=Object(n.useState)(t.time),f=Object(X.a)(E,2),v=f[0],p=f[1],w=Object(n.useState)(t.location),N=Object(X.a)(w,2),g=N[0],I=N[1],S=Object(n.useState)(t.frequency),D=Object(X.a)(S,2),T=D[0],k=D[1],x=Object(n.useState)(t.note),y=Object(X.a)(x,2),C=y[0],A=y[1];function R(e,n,c){e[n]!==c&&(console.log("old value (".concat(e[n],") !== new value (").concat(c,")")),e[n]=c,Q(s,h,t,O,a))}function M(e){R(t,"date",e)}return Object(n.useEffect)((function(){u(t.name),d(t.date),p(t.time),I(t.location),k(t.frequency),A(t.note)}),[t.name,t.date,t.time,t.location,t.frequency,t.note]),c.a.createElement("div",{className:""},c.a.createElement("div",null,c.a.createElement("div",{className:"w-100 pa2 pb3"},c.a.createElement("input",{type:"text",onChange:function(e){u(e.target.value)},onBlur:function(){R(t,"name",l)},value:l,className:"bn fw9 b white bg-transparent"}),c.a.createElement("div",{className:"w-100 pb3 flex justify-between"},c.a.createElement(le,{item:t,dueDate:b,updateFunc:M}))),c.a.createElement("div",{className:"w-100 pl2 pb3"},c.a.createElement("input",{type:"text",onChange:function(e){I(e.target.value)},onBlur:function(){R(t,"location",g)},value:g,className:"fw1 white bn bg-transparent"})),c.a.createElement("input",{className:" fw4 white bg-transparent pa2 mb1",id:"time",type:"time",value:v,onChange:function(e){p(e.target.value),console.log(v)},onBlur:function(){R(t,"time",v)}}),c.a.createElement("div",{className:"w-100 pl2 pb3"},c.a.createElement("select",{className:" fw4 white bg-transparent mb1",id:"priority",value:T,onChange:function(e){return k(e.target.value)},onBlur:function(){R(t,"frequency",T)}},c.a.createElement("option",{value:T,disabled:!0},T),c.a.createElement("option",{value:"NONE"},"ONE-TIME"),c.a.createElement("option",{value:j},"DAILY"),c.a.createElement("option",{value:"WEEKLY"},"WEEKLY"),c.a.createElement("option",{value:"MONTHLY"},"MONTHLY"),c.a.createElement("option",{value:"YEARLY"},"YEARLY"))),c.a.createElement("div",{className:"pa2"},c.a.createElement("textarea",{rows:"4",cols:"45",onChange:function(e){A(e.target.value)},onBlur:function(){R(t,"note",C)},value:C,className:"fw3 white bn bg-transparent"}))))}));var Re=Object(l.b)((function(e){return{view:e.values.view,title:e.values.title,itemID:e.values.itemID,exp:e.UpdateExpReducer.exp,missionID:e.values.missionID,previousItemID:e.values.previousItemID,previousTitle:e.values.previousTitle}}),(function(e){return{changeItemID:function(t){return e(C(t))}}}))((function(e){var t=e.content,a=e.db,n=e.itemID,s=e.touchFunction,r=e.updateExp,i=e.selectAnother,l=e.title,u=e.changeItemID,o=(e.previousItemID,e.previousTitle,e.missionID);if("MISSION_TASKS"===l){t=function(e,t){console.log("proj tasks: ",e.taskList);var a=[];if(e.taskList!==[])for(var n=0;n<e.taskList.length;n++)for(var c=0;c<t.length;c++)if(e.taskList[n]===t[c].id){a.push(t[c]);break}return console.log(a),a}(function(e){console.log("proj id: ",e);for(var t={},n=0;n<a.Missions.length;n++)a.Missions[n].id===e&&(t=a.Missions[n]);return console.log("proj = ",t),t}(parseInt(o)),a.Tasks)}for(var N,g,I={},S=parseInt(n),D=0;D<t.length;D++)parseInt(t[D].id)===S&&(I=t[D],N=0===D?t[D].id:t[D-1].id,g=D===t.length-1?t[D].id:t[D+1].id);switch(l){case m:return c.a.createElement("div",{className:"w-100 h-100 center br1 pa2 bw2 ba b--black-10"},c.a.createElement("div",{className:"flex justify-between items-center"},c.a.createElement(De,{id:0}),c.a.createElement(je,null)),c.a.createElement("h2",{className:"tc b gold f3"},"MISSION"),c.a.createElement("div",{className:"h-70"},c.a.createElement(Se,{mission:I,touchFunction:s,updateExp:r})),c.a.createElement("div",{className:"flex justify-between self-end"},c.a.createElement(pe,{selectAnother:u,prevID:N,currentID:n}),c.a.createElement(we,{selectAnother:u,nextID:g,currentID:n})));case b:return c.a.createElement("div",{className:"h-100 w-100 center br1 ba b--black-10 content-between "},c.a.createElement("div",{className:"flex justify-between items-center"},c.a.createElement(De,{id:0}),c.a.createElement(je,null)),c.a.createElement("h2",{className:"tc b gold f3"},"TASK"),c.a.createElement("div",{className:"h-70"},c.a.createElement(Ie,{id:parseInt(n)})),c.a.createElement("div",{className:"flex justify-between self-end"},c.a.createElement(pe,{selectAnother:i,prevID:N,currentID:n}),c.a.createElement(we,{selectAnother:i,nextID:g,currentID:n})));case"MISSION_TASKS":return c.a.createElement("div",{className:"h-100 w-100 center br1 ba b--black-10 content-between "},c.a.createElement("div",{className:"flex justify-between items-center"},c.a.createElement(De,{id:0}),c.a.createElement(je,null)),c.a.createElement("h2",{className:"tc b gold f3"},"MISSION TASKS"),c.a.createElement(Ie,{id:parseInt(n)}),c.a.createElement("div",{className:"flex justify-between self-end"},c.a.createElement(pe,{selectAnother:i,prevID:N,currentID:n}),c.a.createElement(we,{selectAnother:i,nextID:g,currentID:n})));case d:return c.a.createElement("div",{className:"h-100 w-100 center br1 ba b--black-10"},c.a.createElement("div",{className:"flex justify-between items-center"},c.a.createElement(De,{id:0}),c.a.createElement(je,null)),c.a.createElement("h2",{className:"tc b gold f3"},"Inbox Item"),c.a.createElement("div",{className:"h-60"},c.a.createElement(Ne,{id:parseInt(n),touchFunction:s,selectAnother:i,prevID:N,nextID:g})));case T:return c.a.createElement("div",{className:"h-100 w-100 center br1 ba b--black-10"},c.a.createElement("div",{className:"flex justify-between items-center"},c.a.createElement(De,{id:0}),c.a.createElement(je,null)),c.a.createElement("h2",{className:"tc b gold f3"},"PROCESSED"),c.a.createElement("h5",{className:"white b pb2"},"Name: ",I.name),c.a.createElement("h5",{className:"white pb2"},"Processed: ",new Date(I.processedDate).toLocaleString()," "),c.a.createElement("div",{className:"flex justify-between self-end"},c.a.createElement(pe,{selectAnother:i,prevID:N,currentID:n}),c.a.createElement(we,{selectAnother:i,nextID:g,currentID:n})));case v:return c.a.createElement("div",{className:"h-100 w-100 center br1 ba b--black-10"},c.a.createElement("div",{className:"flex justify-between items-center"},c.a.createElement(De,{id:0}),c.a.createElement(je,null)),c.a.createElement("h1",{className:"tc b gold"},"REFERENCE"),c.a.createElement(Oe,{id:parseInt(n),reference:I}),c.a.createElement("div",{className:"flex justify-between self-end"},c.a.createElement(pe,{selectAnother:i,prevID:N,currentID:n}),c.a.createElement(we,{selectAnother:i,nextID:g,currentID:n})));case h:return c.a.createElement("div",{className:"h-100 w-100 center br1 ba b--black-10"},c.a.createElement("div",{className:"flex justify-between items-center"},c.a.createElement(De,{id:0}),c.a.createElement(je,null)),c.a.createElement("h1",{className:"tc b gold"},"EVENT"),c.a.createElement(Ae,{id:parseInt(n),item:I}),c.a.createElement("div",{className:"flex justify-between self-end"},c.a.createElement(pe,{selectAnother:i,prevID:N,currentID:n}),c.a.createElement(we,{selectAnother:i,nextID:g,currentID:n})));case p:if(I.type===f)return console.log("someday item is a task"),c.a.createElement("div",{className:"h-100 w-100 center br1 ba b--black-10 content-between "},c.a.createElement("div",{className:"flex justify-between items-center"},c.a.createElement(De,{id:0}),c.a.createElement(je,null)),c.a.createElement("h2",{className:"tc b gold f3"},"TASK"),c.a.createElement(Ie,{id:parseInt(n)}),c.a.createElement("div",{className:"flex justify-between self-end"},c.a.createElement(pe,{selectAnother:i,prevID:N,currentID:n}),c.a.createElement(we,{selectAnother:i,nextID:g,currentID:n})));if(I.type===E)return console.log("someday item is this mission = ",I),c.a.createElement("div",{className:"w-100 h-100 center br1 pa2 ba b--black-10"},c.a.createElement("div",{className:"flex justify-between items-center"},c.a.createElement(De,{id:0}),c.a.createElement(je,null)),c.a.createElement("h2",{className:"tc b gold f3"},"MISSION"),c.a.createElement(Se,{mission:I,touchFunction:s,updateExp:r}),c.a.createElement("div",{className:"flex justify-between self-end"},c.a.createElement(pe,{selectAnother:u,prevID:N,currentID:n}),c.a.createElement(we,{selectAnother:u,nextID:g,currentID:n})));case"COMPLETED":return c.a.createElement("div",{className:"h-100 w-100 center br1 ba b--black-10 content-between "},c.a.createElement("div",{className:"flex justify-between items-center"},c.a.createElement(De,{id:0}),c.a.createElement(je,null)),c.a.createElement("h2",{className:"tc b gold f3"},"COMPLETED"),c.a.createElement(xe,{item:I,MissionsList:a.missions}),c.a.createElement("div",{className:"flex justify-between self-end"},c.a.createElement(pe,{selectAnother:i,prevID:N,currentID:n}),c.a.createElement(we,{selectAnother:i,nextID:g,currentID:n})));case w:return c.a.createElement("div",{className:"h-100 w-100 center br1 ba b--black-10 content-between "},c.a.createElement("div",{className:"flex justify-between"},c.a.createElement(De,{id:0})),c.a.createElement("h2",{className:"tc b gold f3"},"TRASHED"),c.a.createElement(ye,{item:I}),c.a.createElement("div",{className:"flex justify-between self-end"},c.a.createElement(pe,{selectAnother:i,prevID:N,currentID:n}),c.a.createElement(we,{selectAnother:i,nextID:g,currentID:n})));default:return c.a.createElement("div",{className:"h-100 w-100 center br1 ba b--black-10 pb2"},c.a.createElement(De,null),c.a.createElement("h1",{className:"tc b white"},"Error"),c.a.createElement("p",null,"Item Not Found"),c.a.createElement(te,{touchFunction:s}))}})),Me=Object(l.b)((function(e){return{activeTask:e.SetActiveTaskReducer.activeTask,status:e.UpdateTaskStatusReducer.taskStatus,activeSince:e.SetActiveTaskReducer.activeSince,timeNow:e.SetActiveTaskReducer.timeNow}}),(function(e){return{updateTaskStatus:function(t){return e(L(t))},setActiveTask:function(t){return e(F(t))},changeItemID:function(t){return e(C(t))},changeNav:function(t){return e(x(t))}}}))((function(e){e.changeItemID;var t=e.activeSince,a=e.activeTask,s=e.changeNav,r=(new Date).getTime(),i=parseInt(a.timeSpent)+(r-parseInt(t)),l=(i=(i-i%1e3)/1e3)%60,u=(i=(i-l)/60)%60,o=(i-u)/60,m=Object(n.useState)(l),d=Object(X.a)(m,2),E=d[0],f=d[1],v=Object(n.useState)(u),h=Object(X.a)(v,2),p=h[0],w=h[1],N=Object(n.useState)(o),g=Object(X.a)(N,2),S=g[0],D=g[1],O=Object(n.useState)(!1),T=Object(X.a)(O,2),k=T[0],j=T[1];void 0!==parseInt(a.id)&&!1===k&&j(!0);switch(Object(n.useEffect)((function(){var e=null;return k?e=setInterval((function(){f((function(e){return e+1})),E>=59&&(w((function(e){return e+1})),f(0),p>=59&&(D((function(e){return e+1})),w(0)))}),1e3):k||0===E||clearInterval(e),function(){return clearInterval(e)}}),[k,E,p,S]),a.id){case void 0:return c.a.createElement("div",null);default:return c.a.createElement("div",{className:"",onClick:function(e){e.stopPropagation();var t={title:b,view:I,ID:a.id};s(t)}},c.a.createElement("div",{className:" pt3 "},c.a.createElement("h2",{className:"pa1 "},"CURRENT TASK"),c.a.createElement("h2",{className:"pa1 red "},a.name),c.a.createElement("h2",{className:"pa1 fw3 b red"},S.toLocaleString(void 0,{minimumIntegerDigits:2}),":",p.toLocaleString(void 0,{minimumIntegerDigits:2}),":",E.toLocaleString(void 0,{minimumIntegerDigits:2})," ")))}}));var Le=Object(l.b)((function(e){return{title:e.values.title,view:e.values.view,ID:e.values.itemID,db:e.items.record.items,isShipping:e.items.latestUpdate.isShipping}}),(function(e){return{shipItems:function(t,a,n){return e(q(t,a))},changeNav:function(t){return e(x(t))}}}))((function(e){var t;e.shipItems,e.changeNav,e.db,e.title,e.ID;t=e.isShipping?"red":"green";var a={color:t};return c.a.createElement("div",{className:"flex justify-end"},c.a.createElement("h2",{className:"fw8 pa0 ma0",style:a},"."))}));function Fe(e){var t=e.touchFunction,a=e.exp;return c.a.createElement("article",{className:"h-100 w-100 center bg-white pa2 ","data-view":"OVERVIEW",title:"STATS",onClick:t},c.a.createElement(Le,null),c.a.createElement("div",{className:"tc w-100 h-100"},c.a.createElement("h1",{className:"f2 mb0 "},"Amen Christ"),c.a.createElement("h3",{className:"f6 pa1 gray "},"Engineer"),c.a.createElement("h4",{className:"f6 gray "},"Exp: ",a),c.a.createElement(Me,null)))}function Ve(e){var t=e.touchFunction,a=e.tasks.filter((function(e){return!1===e.isTrashed&&e.status!==k&&e.dueDate!==p}));return c.a.createElement("article",{className:"h-100 center bg-white ba b--black-10","data-view":g,title:"TASKS",onClick:t},c.a.createElement("div",{className:"tc"},c.a.createElement("h1",{className:"f3 mb2"},"Tasks"),c.a.createElement("h2",{className:"f5 fw4 gray mt0"},"(",a.length,")")))}function Pe(e){var t=e.touchFunction,a=e.missions.filter((function(e){return!1===e.isTrashed&&e.status!==k&&e.dueDate!==p}));return c.a.createElement("article",{className:"h-100 center bg-white ba b--black-10",title:m,"data-view":g,onClick:t},c.a.createElement("div",{className:"tc"},c.a.createElement("h1",{className:"f3 mb2"},"Missions"),c.a.createElement("h2",{className:"f5 fw4 gray mt0"},"(",a.length,")")))}function qe(e){var t=e.touchFunction,a=e.inbox.filter((function(e){return!1===e.isTrashed&&e.status!==T}));return c.a.createElement("article",{className:"h-100 center bg-white br1 ba b--black-10","data-view":g,title:"INBOX",onClick:t},c.a.createElement("div",{className:"tc"},c.a.createElement("h1",{className:"f3 mb2"},a.length),c.a.createElement("h2",{className:"f5 fw4 gray mt0"},"Inbox")))}function Ue(e){var t=e.touchFunction;return c.a.createElement("div",{className:"bg-white h-100 center w-100 flex items-center justify-center","data-view":S,title:"NEW_ITEM",onClick:t},c.a.createElement("div",{className:"tc "},c.a.createElement("h3",{className:""},"Add New Item")))}function Be(e){var t=e.touchFunction,a=e.db.Tasks.filter((function(e){return e.type===f&&e.dueDate!==N&&e.dueDate===(new Date).toISOString().substr(0,10)&&e.status!==k}));return c.a.createElement("div",{className:"flex items-center justify-center h-100 w-100 center bg-white pa1","data-view":g,title:"TODAY",onClick:t},c.a.createElement("h2",{className:"tc"},"Today's",c.a.createElement("br",null),"Mission",c.a.createElement("br",null),"(",a.length,")"))}var _e=Object(l.b)((function(e){return{view:e.values.view,itemID:e.values.itemID,exp:e.UpdateExpReducer.exp,state:e.values}}),(function(e){return{changeNav:function(t){return e(x(t))}}}))((function(e){var t=e.changeItemID,a=e.exp,n=e.db,s=e.changeNav;function r(e){H(e,s)}e.state;var i=n.Tasks.concat(n.Missions).filter((function(e){return!1===e.isTrashed&&e.status!==k&&e.dueDate===p})),l=n.Tasks.filter((function(e){return e.type===f&&e.frequency===j&&!1===e.isTrashed}));return c.a.createElement("div",{className:"h-100 pa1"},c.a.createElement("div",{className:"pa1 ph1 h-40 ba",title:"STATS"},c.a.createElement(Fe,{touchFunction:r,exp:a})),c.a.createElement("div",{className:"flex justify-center h-20 "},c.a.createElement("div",{className:"w-50 pa1"},c.a.createElement(Pe,{touchFunction:r,missions:n.Missions})),c.a.createElement("div",{className:"w-50 pa1"},c.a.createElement(Ve,{touchFunction:r,tasks:n.Tasks}))),c.a.createElement("div",{className:"flex w-100 h-10 pa1"},c.a.createElement(Ue,{touchFunction:r})),c.a.createElement("div",{className:"flex justify-center h-30"},c.a.createElement("div",{className:"w-50 h-100 pa1"},c.a.createElement("div",{className:" w-100 h-50 pb1"},c.a.createElement(Be,{touchFunction:r,gotoItem:t,db:n})),c.a.createElement("div",{className:" w-100 h-50 pt1"},c.a.createElement("div",{className:"flex items-center justify-center h-100 w-100 center bg-white pa1","data-view":g,title:j,onClick:r},c.a.createElement("h2",{className:"tc"},"Daily",c.a.createElement("br",null),"Exercises",c.a.createElement("br",null),"(",l.length,")")))),c.a.createElement("div",{className:" w-50 h-100"},c.a.createElement("div",{className:" w-100 h-50"},c.a.createElement("div",{className:" h-50 pa1"},c.a.createElement("div",{className:"flex items-center justify-center h-100 w-100 center bg-white ","data-view":g,title:p,onClick:r},c.a.createElement("h4",{className:"tc"},"Someday (",i.length,")"))),c.a.createElement("div",{className:"h-50 pa1"},c.a.createElement("div",{className:"flex items-center justify-center h-100 w-100 center bg-white ","data-view":g,title:v,onClick:r},c.a.createElement("h4",{className:"tc"},"References")))),c.a.createElement("div",{className:"w-100 h-50 flex"},c.a.createElement("div",{className:"w-50 h-100 pa1"},c.a.createElement("div",{className:"flex items-center justify-center h-100 w-100 center bg-white pa1","data-view":g,title:"CALENDAR",onClick:r},c.a.createElement("h4",{className:"tc"},"Calendar"))),c.a.createElement("div",{className:"w-50 h-100 pa1"},c.a.createElement(qe,{touchFunction:r,inbox:n.Inbox}))))))}));var Ke=Object(l.b)((function(e){return{view:e.values.view,itemID:e.values.itemID,exp:e.UpdateExpReducer.exp,db:e.items.record.items,state:e.values}}),(function(e){return{changeNav:function(t){return e(x(t))}}}))((function(e){var t=e.changeNav;function a(e){t({title:e,view:"LIST",ID:0})}return c.a.createElement("div",{className:"h-75 w-90 center pa3 pa4-ns ba b--black-10"},c.a.createElement("div",{className:" w-90 center bg-white br1 pa3 pa4-ns ba b--black-10"},c.a.createElement("h1",{className:"tc"},"STATS")),c.a.createElement("div",{className:" pt2 "},c.a.createElement("div",{className:"whiteB h3 flex items-center justify-center",onClick:function(){a("COMPLETED")}},c.a.createElement("h1",{className:" white b f8 fw9 ma0"},"Completed")),c.a.createElement("div",{className:"whiteB h3 flex items-center justify-center",onClick:function(){a(T)}},c.a.createElement("h1",{className:" white b f8 fw9 ma0"},"Processed")),c.a.createElement("div",{className:"whiteB h3 flex items-center justify-center",onClick:function(){a(w)}},c.a.createElement("h1",{className:" white b f8 fw9 ma0"},"Trash"))))}));var We=Object(l.b)((function(e){return{title:e.values.title,view:e.values.view,itemID:e.values.itemID,previousView:e.values.previousView,exp:e.UpdateExpReducer.exp,recordState:e.items.record.isFetching,db:e.items.record.items,record:e.items.record,state:e.values,alerts:e.items.alerts}}),(function(e){return{changeItemID:function(t){return e(C(t))},changeTitle:function(t){return e(y(t))},updateExp:function(t){return e(R(t))},changeNav:function(t){return e(x(t))},createAlert:function(t){return e(P(t))},setActiveTask:function(t){return e(F(t))}}}))((function(e){e.state;var t,a=e.title,n=e.view,s=e.itemID,r=e.changeItemID,i=e.previousView,l=e.updateExp,u=e.exp,o=e.db,D=e.record,O=e.changeNav,x=(e.createAlert,e.alerts),y=e.setActiveTask;switch(x.length,i){case b:t=f;break;case m:t=E;break;case"CALENDAR":t="EVENT"}if(console.log("Title: ",a),console.log("Item ID: ",s),console.log("View: ",n),D.isFetching)return c.a.createElement("div",{className:"f5 fw4 white"},"Loading...");console.log(o);var C,A=o.Tasks.filter((function(e){return"ACTIVE"===e.status}));switch(A.length>0&&y(A[0]),a){case b:C=o.Tasks.filter((function(e){return!1===e.isTrashed&&e.status!==k&&e.dueDate!==p})).sort((function(e,t){return e.order-t.order}));break;case m:C=o.Missions.filter((function(e){return!1===e.isTrashed&&e.status!==k&&e.dueDate!==p}));break;case d:C=o.Inbox.filter((function(e){return!1===e.isTrashed&&e.status!==T}));break;case"CALENDAR":C=o.Tasks.filter((function(e){return!1===e.isTrashed&&e.status!==k&&e.dueDate!==N&&e.dueDate!==p})).concat(o.Events);break;case v:C=o.References.filter((function(e){return!1===e.isTrashed}));break;case"TODAY":case j:C=o.Tasks.filter((function(e){return!1===e.isTrashed&&e.status!==k}));break;case"COMPLETED":C=o.Tasks.concat(o.Missions).filter((function(e){return!1===e.isTrashed&&e.status===k}));break;case T:C=o.Inbox.filter((function(e){return!1===e.isTrashed&&e.status===T}));break;case p:C=o.Tasks.concat(o.Missions).filter((function(e){return!1===e.isTrashed&&e.dueDate===p}));break;case h:C=o.Events.filter((function(e){return!1===e.isTrashed}));break;case w:C=o.Inbox.concat(o.Tasks,o.Missions,o.Events,o.References);break;default:C=[]}switch(!0){case"STATS"===a:return c.a.createElement(Ke,null);case n===I&&0!==s:return c.a.createElement("div",{className:"h-100 pa2 "},c.a.createElement("div",{className:"h-10 ba b--black-10"},c.a.createElement("h5",{className:"fw3 white"},"EXP: ",u)),c.a.createElement("div",{className:"h-90 pa1"},c.a.createElement(Re,{content:C,db:o,selectAnother:r})));case n===g&&0===parseInt(s):return c.a.createElement("div",{className:"h-100 pa2"},c.a.createElement("div",{className:"h-10"},c.a.createElement("h5",{className:"fw3 white"},"EXP: ",u)),c.a.createElement("div",{className:"h-90 pa1"},c.a.createElement("div",{className:"h-100 w-100 center pa1"},c.a.createElement("h1",{className:"tc b gold ma0 pb2"},a),c.a.createElement("div",{className:" h-80 "},c.a.createElement(ee,{content:C})),c.a.createElement("div",{className:"h-10 flex w-100 content-end pa2"},c.a.createElement(te,{touchFunction:function(e){H(e,O)}})))));case n===S:return console.log("type: ",t),c.a.createElement("div",{className:"h-100 pa2"},c.a.createElement("div",{className:" h-10"},c.a.createElement("h5",{className:"fw3 white"},"EXP: ",u)),c.a.createElement("div",{className:"h-90"},c.a.createElement(de,{submitFunction:"",view:t,updateExp:l})));default:return c.a.createElement(_e,{db:o})}}));var Ye=Object(l.b)((function(e){return{onTouch:function(t){return e(A(t))}}}))((function(e){var t=e.onTouch;return c.a.createElement("div",{className:"app"},c.a.createElement("div",{className:"home-container"},c.a.createElement(We,null)),c.a.createElement($,{touchFunction:t}))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(34),a(35);var Xe={title:"HOME",itemID:0,view:"OVERVIEW",missionID:0,previousTitle:"HOME",previousItemID:0,previousView:"OVERVIEW",previousState:{},taskStatus:"",agent:"",record:{isFetching:!1,didInvalidate:!1,receivedAt:0,items:{}},latestUpdate:{items:{},isShipping:!1,deliveredAt:0},exp:0,expTimestamp:0,db:{lastUpdated:0},alerts:[]},He={activeTask:{},activeSince:0,timeNow:(new Date).getTime(),timerOn:!1};var Ge=Object(u.c)({values:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SELECT_TITLE":var a=[m,b,d,v,h,"TODAY"],n="OVERVIEW",c=0;return-1!==a.indexOf(t.payload)&&(n=g),(-1!==a.indexOf(t.payload)&&e.view===S||"NEW_ITEM"===t.payload)&&(n="NEW"),Object.assign({},e,{title:t.payload,view:n,itemID:c,previousTitle:e.title,previousState:e});case"CHANGE_NAV":return t.payload.title===m&&(e.missionID=t.payload.ID),Object.assign({},e,{title:t.payload.title,view:t.payload.view,itemID:t.payload.ID,previousTitle:e.title,previousItemID:e.itemID,previousView:e.view,missionID:e.missionID,previousState:e});case"SELECT_ITEM":return Object.assign({},e,{itemID:t.payload,previousItemID:e.itemID,previousState:e});case"SELECT_VIEW":return Object.assign({},e,{view:t.payload,previousView:e.view,previousState:e});default:return e}},UpdateExpReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"UPDATE_EXP":var a,n;return console.log(t),console.log(e),parseInt(t.expTimeStamp)===parseInt(e.expTimestamp)?(a=0,n=parseInt(e.expTimestamp)):(a=parseInt(t.payload),n=parseInt(t.expTimestamp)),Object.assign({},e,{exp:e.exp+a,expTimestamp:n});default:return e}},RestorePreviousStateReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"RESTORE_PREVIOUS_STATE":if(e.previousState==={})break;return Object.assign({},e.previousState);default:return e}},UpdateTaskStatusReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"UPDATE_TASK_STATUS":return Object.assign({},e,{taskStatus:t.payload});default:return e}},SetActiveTaskReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_ACTIVE_TASK":var a;return console.log("from AT Reducer: ",e),a="ACTIVE"===t.payload.status&&!1===e.timerOn,Object.assign({},e,{activeTask:t.payload,activeSince:t.payload.activeSince,timerOn:a});default:return e}},SelectRecordReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"reactjs",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_RECORD":return t.payload;default:return e}},items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INVALIDATE_RECORD":return Object.assign({},e,{records:{didInvalidate:!0}});case"REQUEST_ITEMS":return Object.assign({},e,{record:{isFetching:!0,didInvalidate:!1}});case"RECEIVE_ITEMS":return Object.assign({},e,{record:{isFetching:!1,didInvalidate:!1,receivedAt:t.receivedAt,items:t.items}});case"PACK_ITEMS":return Object.assign({},e,{latestUpdate:{items:t.payload,isShipping:!0,deliveredAt:0}});case"DELIVER_ITEMS":return console.log("Special Delivery: ",t.payload),Object.assign({},e,{latestUpdate:{items:t.payload,isShipping:!1,deliveredAt:t.deliveredAt,updateAcknowledged:!1}});case"CREATE_ALERT":var a=e.alerts;return a.unshift(t.payload),Object.assign({},e,{alerts:a});case"CLOSE_ALERT":function n(e){return e!==t.payload}return a=e.alerts,Object.assign({},e,{alerts:a.filter(n)});default:return e}}}),Je=Object(o.createLogger)(),Qe=Object(u.d)(Ge,Object(u.a)(Je,i.a));Qe.dispatch({type:"SELECT_RECORD",payload:"reactjs"}),Qe.dispatch(V("reactjs")),r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(l.a,{store:Qe},c.a.createElement(Ye,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.91615ca5.chunk.js.map